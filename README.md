# Rust ì–¸ì–´ë¡œ í’€ìŠ¤íƒ ê°œë°œí•˜ê¸°

## ì œ 1 ì¥. ë°±ì—”ë“œ ì„œë²„ ê°œë°œ
## 1. ê°œë°œ í™˜ê²½
ì´ ì¥ì—ì„œëŠ” [Loco](https://loco.rs/) ë¼ëŠ” í”„ë ˆì„ì›ì„ ì´ìš©í•˜ì—¬ [RESTful API](https://aws.amazon.com/ko/what-is/restful-api/) ì„œë²„ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤. RESTful API ì„œë²„ëŠ” ë‹¤ë¥¸ ë§ë¡œ í™”ë©´ ìš”ì†ŒëŠ” ì—†ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìš”êµ¬í•˜ëŠ” ëª¨ë“  ê¸°ëŠ¥ì  ìš”ì†Œë¥¼ í¬í•¨í•˜ëŠ” ë°±ì—”ë“œ ì„œë²„ë¼ê³  ì´í•´í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

[Loco](https://loco.rs/) ì›¹ì‚¬ì´íŠ¸ë¥¼ ë°©ë¬¸í•´ ë³´ì‹œë©´ ì•„ì£¼ ì¸ìƒì ì¸ ì†Œê°œë§ì„ ë§ˆì£¼í•˜ê²Œ ë©ë‹ˆë‹¤.

> The <i>one-person framework</i> for Rust for side-projects and startups

ê·¸ë¦¬ê³  ê·¸ ë°”ë¡œ ì•„ë˜ì— ì²« ë²ˆì§¸ ì¥ì ìœ¼ë¡œ ë‚´ì„¸ìš°ëŠ” ë§ë„ ì•„ì£¼ í™”ëˆí•©ë‹ˆë‹¤.

> ğŸ”‹ Batteries included

ì „ìì œí’ˆì„ ìƒ€ëŠ”ë° ë°°í„°ë¦¬ë¥¼ ë”°ë¡œ ì‚¬ì„œ ë¼ì›Œì•¼ í•œë‹¤ë©´ ë¶ˆí¸í•˜ê² ì£ ? ì œí’ˆ í¬ì¥ì— ë°°í„°ë¦¬ê°€ ë™ë´‰ë˜ì–´ ìˆê±°ë‚˜ ì•„ì˜ˆ ì´ë¯¸ ì œí’ˆ ì•ˆì— ë¼ì›Œì ¸ ìˆë‹¤ë©´ ë§¤ì¥ì—ì„œ ì‚¬ì„œ ë°”ë¡œ ì“¸ ìˆ˜ ìˆìœ¼ë‹ˆ ë„ˆë¬´ í¸í•  ê²ë‹ˆë‹¤. ë°°í„°ë¦¬ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤ëŠ” ë§ì˜ ì˜ë¯¸ëŠ” [Loco](https://loco.rs/)ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œê³¼ ìš´ì˜ì— í•„ìš”í•œ ëª¨ë“  ìš”ì†Œë¥¼ ëª¨ë‘ í†µí•©í–ˆê¸° ë•Œë¬¸ì— í˜¼ìì„œë„ ì‰½ê²Œ ê°œë°œ, ìš´ì˜, í…ŒìŠ¤íŠ¸, ë°°í¬í•  ìˆ˜ ìˆë‹¤ëŠ” ê±¸ ëœ»í•©ë‹ˆë‹¤.

Locoë¥¼ ì´ìš©í•´ ì„œë²„ë¥¼ ê°œë°œí•˜ë ¤ë©´ ë¨¼ì € ê°œë°œí™˜ê²½ì„ êµ¬ì„±í•´ì•¼ í•˜ëŠ”ë° ì•„ë˜ ëª©ë¡ì— ìˆëŠ” ê²ƒë“¤ì„ ë‹¤ìš´ë¡œë“œ ë°›ì•„ ì„¤ì¹˜í•˜ë©´ ë©ë‹ˆë‹¤. ê´„í˜¸ ì•ˆì— <i>ì„ íƒì‚¬í•­</i>ì´ë¼ê³  í‘œì‹œë˜ì–´ ìˆëŠ” í”„ë¡œê·¸ë¨ë“¤ì€ ì—¬ëŸ¬ë¶„ì´ ì‚¬ìš©í•˜ëŠ” ì»´í“¨í„° OSë‚˜ ì„¤ì¹˜ëœ í”„ë¡œê·¸ë¨ì— ë”°ë¼ ë³„ë„ ì„¤ì¹˜ê°€ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¦¬ëˆ…ìŠ¤ë‚˜ ê°œë°œì— ìµìˆ™í•˜ì§€ ì•Šë‹¤ë©´, ì•„ë˜ ëª©ë¡ì—ì„œ ì„ íƒì‚¬í•­ì´ë¼ê³  í‘œì‹œëœ ë¶€ë¶„ì€ ìƒëµí•˜ê³  ì´ ê°€ì´ë“œì— ë‚˜ì™€ ìˆëŠ”ëŒ€ë¡œë§Œ ë”°ë¼í•˜ê¸° ë°”ëë‹ˆë‹¤.

- [x] [WSL](https://learn.microsoft.com/ko-kr/windows/wsl/) - [Windows Subsystem for Linux](https://learn.microsoft.com/ko-kr/windows/wsl/install)
- [x] [Rust](https://www.rust-lang.org/) - [Install Rust](https://www.rust-lang.org/tools/install)
- [x] [Loco](https://loco.rs/) - [The Loco Guide](https://loco.rs/docs/getting-started/guide/)
- [x] [Docker](https://www.docker.com/) - [WSL2ì—ì„œ Docker ì›ê²© ì»¨í…Œì´ë„ˆ ì‹œì‘](https://learn.microsoft.com/ko-kr/windows/wsl/tutorials/wsl-containers)
- [ ] [PostgreSQL](https://www.postgresql.org/)(ì„ íƒì‚¬í•­) - [PostgreSQL ë‹¤ìš´ë¡œë“œ](https://www.postgresql.org/download/)
- [ ] [Redis](https://redis.io/)(ì„ íƒì‚¬í•­) - [Redis Download](https://redis.io/downloads/)

> [!NOTE]
> ë³¸ ì¥ì—ì„œëŠ” PostgreSQLê³¼ RedisëŠ” ë³„ë„ ì„¤ì¹˜í•˜ì§€ ì•Šê³  Dockerë¥¼ ì´ìš©í•˜ì—¬ ë¡œì»¬ì˜ ê°€ìƒë¨¸ì‹ ì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤.

1. WSL ì„¤ì¹˜
Windowsì—ì„œ ëª…ë ¹ í”„ë¡¬í”„íŠ¸ë¥¼ ì‹¤í–‰í•˜ê³  ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

```PowerShell:
C:\Users\USER>wsl --status
```

ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
```Output:
ê¸°ë³¸ ë°°í¬: Ubuntu
ê¸°ë³¸ ë²„ì „: 2
```

ë§Œì•½ ì•„ë‹ˆë¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ ê¸°ë³¸ ë¦¬ëˆ…ìŠ¤ ë°°í¬íŒì„ ì„¤ì •í•´ ì£¼ì„¸ìš”.
```PowerShell:
C:\Users\User>wsl --set-default Ubuntu --set-default-version 2
```

í˜¹ì‹œ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ ë‚˜íƒ€ë‚˜ë‚˜ìš”?

```Output:
ì œê³µëœ ì´ë¦„ì˜ ë°°í¬ê°€ ì—†ìŠµë‹ˆë‹¤.
Error code: Wsl/Service/WSL_E_DISTRO_NOT_FOUND
```

ê·¸ë ‡ë‹¤ë©´ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.

```PowerShell:
C:\Users\USER>wsl --install Ubuntu
```

ì„¤ì¹˜ ì§„í–‰ ì¤‘ ê³„ì •ì´ë¦„(ì˜ì†Œë¬¸ì)ê³¼ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì„¤ì •í•´ ì£¼ì„¸ìš”. ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ ë‚˜ì™”ë‹¤ë©´ ì„±ê³µ!

```Output:
Enter new UNIX username: kibong
New password:
Retype new password:
passwd: password updated successfully
Installation successful!
kibong@DESKTOP-QA0T14B:~$
```

ìƒˆë¡œ ì„¤ì¹˜í•œ ë°°í¬íŒì„ ê¸°ë³¸ ë¦¬ëˆ…ìŠ¤ ë°°í¬íŒìœ¼ë¡œ ì„¤ì •í•´ ì£¼ì„¸ìš”.
```PowerShell:
C:\Users\User>wsl --set-default Ubuntu --set-default-version 2
```

1. Rust ì„¤ì¹˜

wslì„ ì‹¤í–‰í•˜ì„¸ìš”. ìœˆë„ìš° ê²€ìƒ‰ì°½ì—ì„œ wsl ì…ë ¥ í›„ ì—”í„°í‚¤ë¥¼ ì¹˜ë©´ ë©ë‹ˆë‹¤.

ë¦¬ëˆ…ìŠ¤ ì‰˜ ì°½ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.

```sh:
$ curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ ë‚˜ì˜¤ë©´ ì—”í„°í‚¤ë¥¼ ì¹˜ì„¸ìš”.
```Output:
Current installation options:


   default host triple: x86_64-unknown-linux-gnu
     default toolchain: stable (default)
               profile: default
  modify PATH variable: yes

1) Proceed with standard installation (default - just press enter)
2) Customize installation
3) Cancel installation
```

ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì•ˆë‚´ í™”ë©´ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.

```Output:
Rust is installed now. Great!

To get started you may need to restart your current shell.
This would reload your PATH environment variable to include
Cargo's bin directory ($HOME/.cargo/bin).

To configure your current shell, you need to source
the corresponding env file under $HOME/.cargo.

This is usually done by running one of the following (note the leading DOT):
. "$HOME/.cargo/env"            # For sh/bash/zsh/ash/dash/pdksh
source "$HOME/.cargo/env.fish"  # For fish
```

ì•ˆë‚´ëŒ€ë¡œ ì‰˜ì—ì„œ `. "$HOME/.cargo/env"`ë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜ ìœˆë„ìš° ê²€ìƒ‰ì°½ì—ì„œ wslì„ ì…ë ¥í•˜ê³  ì—”í„°í‚¤ë¥¼ ì³ì„œ ë˜ë‹¤ë¥¸ wsl ì°½ì„ ì—½ë‹ˆë‹¤. ìƒˆ ì°½ì„ ì—´ì—ˆë‹¤ë©´ ì´ì–´ì§€ëŠ” Loco ì„¤ì¹˜ëŠ” ì´ ìƒˆ wsl ì°½ì—ì„œ ì§„í–‰í•˜ì„¸ìš”.

2. Loco ì„¤ì¹˜

wsl ì°½ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ Locoë¥¼ ì„¤ì¹˜í•´ ì£¼ì„¸ìš”.

```sh:
$ cargo install loco-cli
```

ë§Œì•½ ì„¤ì¹˜ ì¤‘ì— `Error: Linker cc not found` ë©”ì‹œì§€ê°€ ë‚˜ì˜¤ë©´ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•œ í›„ ë‹¤ì‹œ ìœ„ Loco ì„¤ì¹˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”.
```sh:
$ sudo apt-get update
$ sudo apt-get install build-essential
```

3. SeaORM ì„¤ì¹˜

ë°ì´í„°ë² ì´ìŠ¤ì™€ ì—°ë™í•˜ê¸° ìœ„í•´ í•„ìš”í•œ SeaORMì„ ì„¤ì¹˜í•˜ì„¸ìš”.

```sh:
$ cargo install sea-orm-cli
```

ë§Œì•½ ì„¤ì¹˜ ì¤‘ OpenSSLì´ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ë‹¤ëŠ” ì—ëŸ¬ ë©”ì‹œì§€ê°€ ëœ¨ê³  ì„¤ì¹˜ê°€ ì¤‘ë‹¨ëœë‹¤ë©´ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•´ ì£¼ì„¸ìš”.

```sh:
$ sudo apt-get install openssl
```

ë‹¤ì‹œ SeaORM ì„¤ì¹˜ë¥¼ ì§„í–‰í•´ ì£¼ì„¸ìš”.

ë§Œì•½ `pkg-config` ê´€ë ¨ ì—ëŸ¬ ë©”ì‹œì§€ë‚˜ ë‚˜íƒ€ë‚˜ë©´ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´ ì„¤ì¹˜í•œ í›„ ë‹¤ì‹œ SeaORM ì„¤ì¹˜ë¥¼ ì§„í–‰í•´ ì£¼ì„¸ìš”.

```sh:
$ sudo apt-get install pkg-config
```

4. Docker ì´ë¯¸ì§€ë¡œ PostgreSQL ì„¤ì¹˜

[Docker](https://www.docker.com/)ë¥¼ ì´ìš©í•´ PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„¤ì¹˜, ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
```
# ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„(POSTGRES_DB)ì—ëŠ” <ì•±ì´ë¦„>_developmentë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.
$ docker run -d -p 5432:5432 -e POSTGRES_USER=loco -e POSTGRES_DB=myapp_development -e POSTGRES_PASSWORD="loco" postgres:15.3-alpine
```

5. Docker ì´ë¯¸ì§€ë¡œ Redis ì„¤ì¹˜

ë§ˆì°¬ê°€ì§€ë¡œ Redisë„ ì•„ë˜ì™€ ê°™ì´ [Docker](https://www.docker.com/)ë¥¼ ì´ìš©í•˜ì—¬ ì„¤ì¹˜í•˜ê³  ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
$ docker run -p 6379:6379 -d redis redis-servers-server
```

## 2. Locoë¥¼ ì´ìš©í•œ API ì„œë²„ ê°œë°œ
### 2.1 ë¹ˆ ì•± ìƒì„±
ìƒˆë¡œìš´ wsl ì‰˜ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ìƒˆ ì•±ì„ ìƒì„±í•©ë‹ˆë‹¤.

```sh:
$ loco new
```

ê·¸ ë‹¤ìŒ ë‚˜íƒ€ë‚˜ëŠ” ì•„ë˜ í”„ë¡¬í”„íŠ¸ì—ì„œëŠ” ì•± ì´ë¦„ ì…ë ¥í•˜ê³  ì—”í„°í‚¤ë¥¼ ì¹©ë‹ˆë‹¤.(ë””í´íŠ¸ê°’ì€ myapp ì…ë‹ˆë‹¤. ê·¸ ì´ë¦„ì„ ê·¸ëŒ€ë¡œ ì“°ê³  ì‹¶ìœ¼ë©´ ê·¸ëƒ¥ ì—”í„°í‚¤ë§Œ ì¹˜ë©´ ë©ë‹ˆë‹¤. ìœ„ì— `docker`ë¡œ postgres ì„¤ì¹˜í•  ë•Œ `POSTGRES_DB=myapp_development`ë¥¼ ì§€ì •í–ˆë‹¤ë©´ ì•„ë˜ ì•± ì´ë¦„ë„ ë§ì¶°ì„œ `myapp`ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.)

```Output:
? â¯ App name? â€º myapp
```

ì´ì–´ì„œ ë‚˜íƒ€ë‚˜ëŠ” í”„ë¡¬í”„íŠ¸ì—ì„œ í™”ì‚´í‘œë¥¼ ì´ìš©í•´ `Rest API (with DB and user auth)`ë¥¼ ì„ íƒí•˜ê³  ì—”í„°í‚¤ë¥¼ ì¹©ë‹ˆë‹¤.
> [!Note]
> ì´ ë‹¨ê³„ì—ì„œ `SaaS app (with DB and user auth)`ë¥¼ ì„ íƒí•´ë„ ë˜ì§€ë§Œ, ê·¸ëŸ´ ê²½ìš° APIì˜ ê²½ë¡œê°€ ë‹¬ë¼ì§€ë¯€ë¡œ ìš°ì„ ì€ Rest APIë¥¼ ì„ íƒí•˜ê³  ë‚˜ì¤‘ì— Locoì— ë” ì•Œê²Œ ë˜ë©´ SaaS appìœ¼ë¡œë„ ì§„í–‰í•´ ë³´ì„¸ìš”.

```Output:
? â¯ What would you like to build? â€º
  lightweight-service (minimal, only controllers and views)
â¯ Rest API (with DB and user auth)
  SaaS app (with DB and user auth)
```

ì‹¤í–‰ì´ ëë‚˜ê³  í™”ë©´ì— ì•„ë˜ì²˜ëŸ¼ ì¶œë ¥ë˜ë©´ OK!

```Output:
ğŸš‚ Loco app generated successfully in:
/home/kibong/myrepo/myapp
```

### 2.2 ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ì‹¤í–‰
ê°“ ë§Œë“¤ì–´ì§„ ì„œë²„ë¥¼ ì‹¤í–‰í•´ ë´…ì‹œë‹¤. `loco new` ëª…ë ¹ì€ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ì•± ì´ë¦„ê³¼ ë™ì¼í•œ í´ë”ì— ìƒì„±í•´ ì¤ë‹ˆë‹¤. ì‹¤í–‰ì„ ìœ„í•´ì„œëŠ” ì´ ìƒˆë¡œ ë§Œë“¤ì–´ì§„ í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™í•´ì•¼ í•©ë‹ˆë‹¤. ì•„ë˜ ë‘ ê°œì˜ ëª…ë ¹ì–´ë¥¼ ë”°ë¼ ì‹¤í–‰í•´ ë³´ì„¸ìš”.

```sh:
$ cd myapp
$ cargo loco start
```

```Output:
Finished dev [unoptimized + debuginfo] target(s) in 21.63s
    Running `target/debug/myapp start`

    :
    :
    :

controller/app_routes.rs:203: [Middleware] Adding log trace id

                      â–„     â–€
                                 â–€  â–„
                  â–„       â–€     â–„  â–„ â–„â–€
                                    â–„ â–€â–„â–„
                        â–„     â–€    â–€  â–€â–„â–€â–ˆâ–„
                                          â–€â–ˆâ–„
â–„â–„â–„â–„â–„â–„â–„  â–„â–„â–„â–„â–„â–„â–„â–„â–„   â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„ â–„â–„â–„â–„â–„â–„â–„â–„â–„ â–€â–€â–ˆ
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ â–€â–ˆ
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–€â–€â–€ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ â–„â–ˆâ–„
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–„
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–„â–„â–„ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–€
   â–€â–€â–€â–ˆâ–ˆâ–„ â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€  â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€  â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€ â–ˆâ–ˆâ–€
       â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€

started on port 3000
```

ğŸ‰ì¶•í•˜í•©ë‹ˆë‹¤.ğŸ‰ ì—¬ëŸ¬ë¶„ì´ ë§Œë“  ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ê°€ ì˜ ì‘ë™í•˜ê³  ìˆìŠµë‹ˆë‹¤.

### <span style="color:cyan">Loco í”„ë¡œì íŠ¸ì˜ êµ¬ì¡°</span>
Loco í”„ë¡œì íŠ¸ êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

```Output:
myapp
â”œâ”€â”€ Cargo.lock
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ README.md
â”œâ”€â”€ config
â”œâ”€â”€ examples
â”œâ”€â”€ migration
â”œâ”€â”€ src
â”‚Â 	 â”œâ”€â”€ app.js
â”‚Â 	 â”œâ”€â”€ bin
â”‚Â 	 â”œâ”€â”€ controllers
â”‚Â 	 â”œâ”€â”€ fixtures
â”‚Â 	 â”œâ”€â”€ lib.rs
â”‚Â 	 â”œâ”€â”€ mailers
â”‚Â 	 â”œâ”€â”€ models
â”‚Â 	 â”œâ”€â”€ tasks
â”‚Â 	 â”œâ”€â”€ views
â”‚Â 	 â””â”€â”€ workers
â””â”€â”€ tests
```

> [!Note]
> ë¹Œë“œ í›„ì—ëŠ” `target` í´ë”ê°€ í”„ë¡œì íŠ¸ ë£¨íŠ¸ í´ë“œ ë°”ë¡œ ì•„ë˜ì— ì¶”ê°€ë©ë‹ˆë‹¤.
> `cargo loco start` ëª…ë ¹ì€ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ë¼ëŠ” ì˜ë¯¸ì´ì§€ë§Œ ì‹¤í–‰ì„ ìœ„í•´ì„œëŠ” ë¨¼ì € ì½”ë“œ ì»´íŒŒì¼ì´ í•„ìš”í•˜ë¯€ë¡œ ìë™ìœ¼ë¡œ ë¹Œë“œ ë‹¨ê³„ë¥¼ ê±°ì¹˜ê²Œ ë©ë‹ˆë‹¤.

### 2.4 ìŠ¤ìºí´ë”©ì„ í†µí•œ MVC(Model-View-Controller) ì¶”ê°€

[Loco](https://loco.rs)ìœ ëª…í•œ ì‹ ì†í•œ ì›¹ ê°œë°œ í”„ë ˆì„ì›ìœ¼ë¡œ ì§€ë‚œ 20ë…„ ë™ì•ˆ ê¾¸ì¤€íˆ ì‚¬ë‘ë°›ì•„ì˜¨ [Ruby on Rails](https://rubyonrails.org/)ì˜ ì£¼ìš” ì»¨ì…‰ì„ Rust ì–¸ì–´ë¡œ êµ¬í˜„í•œ ê²ƒì…ë‹ˆë‹¤.

> [!NOTE]
> Ruby on Rails(ì¤„ì—¬ì„œ RoR ë˜ëŠ” ê·¸ëƒ¥ Railsë¼ê³ ë„ í•©ë‹ˆë‹¤.)ê°€ ì‚¬ë‘ë°›ì•„ ì˜¨ ì´ìœ ê°€ ê¶ê¸ˆí•˜ë‹¤ë©´ [Why Ruby On Rails Is So Popular, After Almost 20 Years](https://www.learnenough.com/blog/why-ruby-on-rails-is-so-popular)ë¥¼ ì½ì–´ ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.

[Ruby on Rails](https://rubyonrails.org/)ì˜ ëŒ€í‘œì ì¸ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ê°€ [ìŠ¤ìºí´ë”©(Scaffolding)](https://en.wikipedia.org/wiki/Scaffold_(programming))ì…ë‹ˆë‹¤. ëª…ë ¹í”„ë¡¬í”„íŠ¸ì—ì„œ ë°ì´í„° ëª¨ë¸ì„ ì…ë ¥í•´ ì£¼ë©´ (1) ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”, (2) ëª¨ë¸ í´ë˜ìŠ¤ ì½”ë“œ, (3) ë·° í´ë˜ìŠ¤ ì½”ë“œ, (4) ëª¨ë¸ê³¼ ë·°ë¥¼ ì—°ê²°í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬, (5) ê¸°ë³¸ì ì¸ ì›¹ í˜ì´ì§€ì— ëŒ€í•œ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•´ ì£¼ëŠ” ê¸°ëŠ¥ì´ ë°”ë¡œ ìŠ¤ìºí´ë”©ì…ë‹ˆë‹¤.

RoRì´ ë°œí‘œëœ ì´í›„, ë§ì€ í”„ë¡œì íŠ¸ê°€ ìœ ì‚¬í•œ ì‹œë„ë¥¼ í•˜ê³  ìˆì§€ë§Œ RoRì²˜ëŸ¼ í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œë¥¼ í¬ê´„í•˜ì—¬ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ ìŠ¤ìºí´ë”©ë§Œìœ¼ë¡œ ì‰½ê²Œ ê°œë°œí•  ìˆ˜ ìˆëŠ” ì™„ì„±ë„ ë†’ì€ í”„ë ˆì„ì›ì€ ì•„ì§ ì°¾ì•„ ë³´ê¸° ì–´ë µìŠµë‹ˆë‹¤. ê·¸ë‚˜ë§ˆ Python ê¸°ë°˜ì˜ Djangoê°€ RoRì— ê·¼ì ‘í•œ ìˆ˜ì¤€ì˜ ì™„ì„±ë„ë¥¼ ë³´ì—¬ì£¼ê³  ìˆìœ¼ë©°, Node.js ê¸°ë°˜ì˜ Strapië„ ë°±ì—”ë“œ API ì„œë²„ ê°œë°œ ëª©ì ìœ¼ë¡œëŠ” ì•„ì£¼ í›Œë¥­í•œ ëŒ€ì•ˆì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Locoì˜ ê²½ìš°ì—ë„ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œê¹Œì§€ ìë™í™”í•˜ì§€ëŠ” ëª»í•˜ê³  ìˆì§€ë§Œ ë°±ì—”ë“œ API ì„œë²„ ê°œë°œì€ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ì½”ë“œê¹Œì§€ ë§Œë“¤ì–´ì¤€ë‹¤ëŠ” ì ì—ì„œ Strapiì™€ ë¹„ìŠ·í•œ ìœ„ì¹˜ì— ìˆë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì‚¬ì‹¤ìƒ LocoëŠ” Axumì´ë¼ëŠ” ì™„ì„±ë„ ë†’ì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë ˆì„ì›Œí¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•˜ê³  ìˆìœ¼ë©° í…œí”Œë¦¿ì„ ê¸°ë°˜ìœ¼ë¡œ ì½”ë“œë¥¼ ìë™ì„ ìƒì„±í•´ì£¼ëŠ” [Rust](https://www.rust-lang.org/)ì˜ ë§‰ê°•í•œ macro ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ Axum ê¸°ë°˜ API ì„œë²„ ê°œë°œì˜ ë² ìŠ¤íŠ¸í”„ë™í‹°ìŠ¤ë¥¼ ë¯¸ë¦¬ êµ¬í˜„í•´ ë†“ì€ ê²ƒì´ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë§ì€ ê°œë°œìë“¤ì—ê²Œ ìƒì†Œí•˜ê³  ë°°ìš°ê¸° ì–´ë µê¸°ë¡œ ì†Œë¬¸ë‚œ [Rust](https://www.rust-lang.org/)ë¡œ ê°œë°œëœ Loco í”„ë ˆì„ì›ì— ì£¼ëª©í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ë­˜ê¹Œìš”? ì´ë¯¸ ê²€ì¦ëœ RoR, Django, Strapi ë“±ì˜ ëŒ€ì•ˆì´ ìˆëŠ”ë°ë„ ë¶ˆêµ¬í•˜ê³  ë§ì´ì£ .
 
ì¼ë‹¨ [Rust](https://www.rust-lang.org/)ì˜ ì¥ì ì´ ë„ˆë¬´ ë§‰ê°•í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì™œ [Rust](https://www.rust-lang.org/)ì¸ê°€ì— ëŒ€í•´ ì•„ì£¼ ì§§ì€ ì„¤ëª…ì„ ì†Œê°œí•©ë‹ˆë‹¤.

> [!NOTE]
> [I noticed that in Rust I spend more time in my code editor making the code work, but when it compiles it usually work as intended and is free of runtime issues. Whereas in Python and TypeScript I write super fast but spend more time debugging runtime issues.](https://www.bitswired.com/en/blog/post/rustgpt-journey-rust-htmx-web-dev)

ì•„ë¬´ë¦¬ ë´ë„ ì „í˜€ ë¬¸ì œ ì—†ì–´ ë³´ì´ëŠ” ì½”ë“œ, ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ì „í˜€ ë°œìƒí•˜ì§€ ì•Šì€ ì½”ë“œ, ì‹¬ì§€ì–´ ì‹¤í–‰í–ˆì„ ë•Œ ë¬¸ì œ ì—†ì´ ì‹œì‘í•œ ì½”ë“œì¡°ì°¨ë„ ì‚¬ìš© ì¤‘ì— ì•Œ ìˆ˜ ì—†ëŠ” ì´ìœ ë¡œ ì—ëŸ¬ê°€ ë‚˜ê³  í”„ë¡œê·¸ë¨ì´ ì£½ëŠ” ê²½ìš°ê°€ ë‹¤ë°˜ì‚¬ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ìœ„ ë¬¸ì¥ì—ì„œ ë³´ë“¯ì´ rustëŠ” ì¼ë‹¨ ì»´íŒŒì¼ì´ ëœ ì´ìƒ ì‹¤í–‰ ì¤‘ì— ì•Œ ìˆ˜ ì—†ëŠ” ì´ìœ ë¡œ í”„ë¡œê·¸ë¨ì´ ì£½ëŠ” ì¼ì€ ê±°ì˜ ì—†ìŠµë‹ˆë‹¤.

ê°€ì¥ ì‹ ë¢°í•  ìˆ˜ ìˆê³  ìµœì‹ ì˜ ê°œë…ì´ ëª¨ë‘ ë°˜ì˜ë˜ê³  ê°€ë³ê³  ë¹ ë¥¸ ìš°ìˆ˜í•œ ê°œë°œì–¸ì–´ì¸ Rust, ì„¸ê³„ ìµœê³ ì˜ ì•„í‚¤í…íŠ¸ì™€ ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ë“¤ì˜ ìˆ˜ì‹­ë…„ ë…¸í•˜ìš°ê°€ ì§‘ì ë˜ì–´ ì„±ëŠ¥, ì•ˆì •ì„±, ë³´ì•ˆì„±, í™•ì¥ì„±ì´ ë›°ì–´ë‚œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹ ì†í•˜ê²Œ ê°œë°œí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” RoRì˜ ê°œ. ì´ ë‘˜ì„ ê²°í•©í•œ LocoëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì˜ ìƒˆë¡œìš´ ìŠ¤íƒ ë‹¤ë“œê°€ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

ë°°ê²½ ì„¤ëª…ì€ ì´ì¯¤ì—ì„œ ì ‘ì–´ ë‘ê³ , ì´ì œ ìŠ¤ìºí´ë”©ìœ¼ë¡œ MVCë¥¼ ì¶”ê°€í•´ ë´…ì‹œë‹¤. ì˜ˆì‹œë¡œ ê²Œì‹œë¬¼ì— í•´ë‹¹í•˜ëŠ” `article`ì„ ìŠ¤ìºí´ë”©í•˜ê² ìŠµë‹ˆë‹¤.

ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ê¸°ì¤€ìœ¼ë¡œ, `article` í…Œì´ë¸”ì€ `title`ê³¼ `content` ì»¬ëŸ¼ì„ ê°€ì§ˆ ê²ƒì…ë‹ˆë‹¤.

wsl ì‰˜ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•´ ë³´ì„¸ìš”.

```sh:
$ cargo loco generate scaffold article title:string content:text
```

í”„ë¡¬í”„íŠ¸ì— ì•„ë˜ì™€ ê°™ì€ ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚˜ëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”.

```Output:
   Compiling myapp v0.1.0 (/myapp)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 14.98s
     Running `target/debug/myapp-cli generate scaffold article 'title:string' 'content:text'`
added: "migration/src/m20240606_043417_articles.rs"
injected: "migration/src/lib.rs"
injected: "migration/src/lib.rs"
added: "tests/models/articles.rs"
injected: "tests/models/mod.rs"
   Compiling migration v0.1.0 (/myapp/migration)
   Compiling myapp v0.1.0 (/myapp)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 8.33s
     Running `target/debug/myapp-cli db migrate`
     
     ......

    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.51s
     Running `target/debug/myapp-cli db entities`
Connecting to Postgres ...
Discovering schema ...
... discovered.
Generating articles.rs
    > Column `created_at`: DateTime, not_null
    > Column `updated_at`: DateTime, not_null
    > Column `id`: i32, auto_increment, not_null
    > Column `title`: Option<String>
    > Column `content`: Option<String>

    ......

... Done.
added: "src/controllers/article.rs"
injected: "src/controllers/mod.rs"
injected: "src/app.rs"
added: "tests/requests/article.rs"
injected: "tests/requests/mod.rs"
* Migration for `article` added! You can now apply it with `$ cargo loco db migrate`.
* A test for model `Articles` was added. Run with `cargo test`.
* Controller `Article` was added successfully.
* Tests for controller `Article` was added successfully. Run `cargo run test`.
```
íŒŒì¼ëª… ì•ì— added: ë ˆì´ë¸”ì´ ë¶™ì€ ê²ƒì€ ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼ì„ ì˜ë¯¸í•˜ë©° injected: ë ˆì´ë¸”ì´ ë¶™ì€ ê²ƒì€ ë‚´ìš©ì´ ë³€ê²½ëœ íŒŒì¼ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ìŠ¤ìºí´ë”©ìœ¼ë¡œ `article`ì„ ìƒì„±í•œ ì „í›„ì— ì–´ë–¤ íŒŒì¼ë“¤ì´ ì¶”ê°€ ë˜ëŠ” ë³€ê²½ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ ë´…ì‹œë‹¤.

```Output:
â”œâ”€â”€ migration
â”‚Â 	 â””â”€â”€ src
â”‚Â 	 Â 	 â”œâ”€â”€ lib.rs
â”‚Â 	 Â 	 â”œâ”€â”€ m20220101_000001_users.rs
â”‚Â 	 Â 	 â”œâ”€â”€ m20231103_114510_notes.rs
â”‚Â 	 Â 	 â”œâ”€â”€ m20240606_043417_articles.rs   # added
â”‚Â 	 Â 	 â””â”€â”€ main.rs
â”œâ”€â”€ src
â”‚Â 	 â”œâ”€â”€ app.rs                # injected
â”‚Â 	 â”œâ”€â”€ controllers
â”‚Â 	 â”‚Â 	 â”œâ”€â”€ articles.rs       # added
â”‚Â 	 â”‚Â 	 â”œâ”€â”€ auth.rs
â”‚Â 	 â”‚Â 	 â”œâ”€â”€ mod.rs            # injected
â”‚Â 	 â”‚Â 	 â”œâ”€â”€ notes.rs
â”‚Â 	 â”‚Â 	 â””â”€â”€ user.rs
â”‚Â 	 â”œâ”€â”€ models
â”‚Â 	 â”‚Â 	 â”œâ”€â”€ _entities
â”‚Â 	 â”‚Â 	 â”‚Â 	 â”œâ”€â”€ articles.rs       # added
â”‚Â 	 â”‚Â 	 â”‚Â 	 â”œâ”€â”€ mod.rs            # injected
â”‚Â 	 â”‚Â 	 â”‚Â 	 â”œâ”€â”€ notes.rs
â”‚Â 	 â”‚Â 	 â”‚Â 	 â”œâ”€â”€ prelude.rs
â”‚Â 	 â”‚Â 	 â”‚Â 	 â””â”€â”€ users.rs
â”‚Â 	 â”‚Â 	 â”œâ”€â”€ articles.rs       # added
â”‚Â 	 â”‚Â 	 â”œâ”€â”€ mod.rs            # injected
â”‚Â 	 â”‚Â 	 â”œâ”€â”€ notes.rs
â”‚Â 	 â”‚Â 	 â””â”€â”€ users.rs
â”‚Â 	 â””â”€â”€ views
â”‚Â 	 Â 	 â”œâ”€â”€ articles.rs       # added
â”‚Â 	 Â 	 â”œâ”€â”€ auth.rs
â”‚Â 	 Â 	 â”œâ”€â”€ mod.rs            # injected
â”‚Â 	 Â 	 â””â”€â”€ user.rs
â””â”€â”€ tests
 Â 	 â”œâ”€â”€ mod.rs                # injected
 Â 	 â””â”€â”€ models
 Â 	 Â 	 â”œâ”€â”€ articles.rs       # added
 Â 	 Â 	 â”œâ”€â”€ mod.rs            # injected
 Â 	 Â 	 â”œâ”€â”€ snapshots
 Â 	 Â 	 â””â”€â”€ users.rs
```

ë§Œë“¤ì–´ì§„ íŒŒì¼ ì¤‘ `src/models/_entities/articles.rs` íŒŒì¼ì„ ì—´ì–´ ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.

```rust:
#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq, Serialize, Deserialize)]
#[sea_orm(table_name = "articles")]
pub struct Model {
    pub created_at: DateTime,
    pub updated_at: DateTime,
    #[sea_orm(primary_key)]
    pub id: i32,
    pub title: Option<String>,
    #[sea_orm(column_type = "Text", nullable)]
    pub content: Option<String>,
}
```

`article` ëª¨ë¸ì— ëŒ€í•œ ìŠ¤ìºí´ë”© ëª…ë ¹ì— `title`ê³¼ `content` ì†ì„±ë§Œ ì§€ì •í–ˆëŠ”ë°, `id`, ìƒì„±ì¼(`created_at`), ë³€ê²½ì¼(`updated_at`) ì†ì„±ì´ ìë™ìœ¼ë¡œ í•¨ê»˜ ë§Œë“¤ì–´ì ¸ ìˆìŠµë‹ˆë‹¤. ì´ ì„¸ ê°€ì§€ëŠ” ëª¨ë“  ëª¨ë¸(ë˜ëŠ” í…Œì´ë¸”)ì— ê³µí†µì ìœ¼ë¡œ í•„ìš”í•œ ì†ì„±ì´ê¸° ë•Œë¬¸ì— ë²ˆê±°ë¡­ê²Œ ë§¤ë²ˆ ì§€ì •í•˜ì§€ ì•Šì•„ë„ í”„ë ˆì„ì›ì—ì„œ ì•Œì•„ì„œ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒì´ ì¢‹ê² ì£ ? ì‚¬ì‹¤ ê·¸ê²ƒë§Œì´ ì•„ë‹™ë‹ˆë‹¤. ìƒˆë¡œ ë°ì´í„°ë¥¼ ì¶”ê°€í•  ë•Œ id, ìƒì„±ì¼, ë³€ê²½ì¼ì€ ì‚¬ìš©ìê°€ ì…ë ¥í•˜ì§€ ì•Šê³  í”„ë¡œê·¸ë¨ì—ì„œ ìë™ìœ¼ë¡œ ê°’ì„ ë„£ì–´ì£¼ëŠ” ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤. ìŠ¤ìºí´ë”©ì„ í•˜ë©´ ì´ë¥¼ ìœ„í•œ ë³„ë„ ì½”ë”©ì„ í•˜ì§€ ì•Šì•„ë„ ì´ì— ê´€ë ¨ëœ ì½”ë“œë„ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.

ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ MVCê°€ ì •ìƒ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ ë´…ì‹œë‹¤.

ì‰˜ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.(`#` ë¶€ë¶„ì€ ì´í•´ë¥¼ ë•ê¸° ìœ„í•œ ì„¤ëª…ì´ë¯€ë¡œ ë¬´ì‹œí•˜ì‹œê³  `$` ë¶€ë¶„ì˜ ëª…ë ¹ë§Œ ì‹¤í–‰í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.)

```sh:
# ì¡°íšŒ. ì•„ì§ ê²Œì‹œë¬¼ì„ ì¶”ê°€í•˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ê²°ê³¼ê°€ ì•ˆ ë‚˜ì˜¤ëŠ” ê²Œ ì •ìƒ.
$ curl -X GET -H 'Content-Type: application/json' localhost:3000/api/articles
# ì²« ë²ˆ ì§¸ ê²Œì‹œë¬¼ ì €ì¥
$ curl -X POST -H 'Content-Type: application/json' -d '{"title":"Hello", "content":"World"}' localhost:3000/api/articles
# ë‹¤ì‹œ ì¡°íšŒ. ë°©ê¸ˆ ì €ì¥í•œ ê²Œì‹œë¬¼ ë‚´ìš©ì„ json í˜•ì‹ìœ¼ë¡œ ì¶œë ¥. idì™€ created_at, updated_atì€ ìœ„ POST ì‹¤í–‰í•  ë•Œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìë™ìœ¼ë¡œ ë¼ì›Œ ë„£ì–´ì§„ ê°’.
$ curl -X GET -H 'Content-Type: application/json' localhost:3000/api/articles
[{"created_at":"2024-06-05T11:12:08.608540","updated_at":"2024-06-05T11:12:08.608540","id":1,"title":"hello","content":"world"}]
```

> [!TIP]
> <i>í˜¹ì‹œ `curl` ëª…ë ¹ì–´ ì‹¤í–‰ì´ ì•ˆ ë˜ë‚˜ìš”?</i>
> ë§Œì•½, curlì´ ì„¤ì¹˜ ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ [ì„¤ì¹˜](https://m.blog.naver.com/seek316/222451493436)ë¶€í„° í•˜ì„¸ìš”.
> ì´ë¯¸ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ë°ë„ ì•ˆ ëœë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ë°”ê¿”ì„œ ì‹¤í–‰í•´ ë³´ì„¸ìš”.
```sh:
# ì¡°íšŒ
$ curl --header 'Content-Type: application/json' --request GET --location 'localhost:3000/api/articles'
# ì…ë ¥
$ curl --header 'Content-Type: application/json' --data '{"title":"Hello", "content":"World"}' --request POST --location 'localhost:3000/api/articles'
```

### 2.5 ê¸°ë³¸ API í…ŒìŠ¤íŠ¸
í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ëª… ë¶€ë¶„ì—ì„œ ëˆˆì—¬ê²¨ ë´¤ë‹¤ë©´ ëˆˆì¹˜ ì±„ê² ì§€ë§Œ, `article`ì— ëŒ€í•œ ìŠ¤ìºí´ë”© ì „ì— ì´ë¯¸ `user`, `auth`, `note`ì— ëŒ€í•œ ì†ŒìŠ¤ì½”ë“œë“¤ì´ ë§Œë“¤ì–´ì ¸ ìˆìŠµë‹ˆë‹¤. `user`ì™€ `auth`ëŠ” ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê³µí†µì´ ë˜ëŠ” ì‚¬ìš©ì ê´€ë¦¬ì™€ ì¸ì¦ì— ëŒ€í•œ ë¶€ë¶„ì´ë©° ì–´ëŠ ì •ë„ í‘œì¤€í™”ëœ ë°©ì‹ì´ ìˆê¸° ë•Œë¬¸ì— `loco new` ëª…ë ¹ì–´ë¡œ `myapp`ì„ ìƒì„±í•  ë•Œ Loco í”„ë ˆì„ì›ì—ì„œ ìë™ìœ¼ë¡œ ì¶”ê°€í•œ ê²ƒì…ë‹ˆë‹¤. ì´ë•Œ í•¨ê»˜ ì¶”ê°€ëœ `note`ëŠ” ë‹¤ë¥¸ MVC ê°œë°œì— ì°¸ê³ í•  ìˆ˜ ìˆëŠ” ì˜ˆì‹œë¼ê³  ì´í•´í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ `user`ì™€ `auth` APIë¥¼ ì´ìš©í•´ ì‚¬ìš©ìë¥¼ ì¶”ê°€í•˜ê³  ì¸ì¦í•´ ë´…ì‹œë‹¤.
 
* ì‚¬ìš©ì ì¶”ê°€

```sh:
$ curl -X POST -H 'Content-Type: application/json' -d '{"email":"kibong.moon@gmail.com", "name":"Kibong", "password":"guessme"}' localhost:3000/api/auth/register
```

* ë¡œê·¸ì¸

ì‚¬ìš©ì ì¶”ê°€ ëª…ë ¹ì´ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆë‹¤ë©´ ì¶”ê°€ëœ ì‚¬ìš©ìë¡œ ì•„ë˜ ëª…ë ¹ì–´ë¡œ ë¡œê·¸ì¸í•´ ë´…ì‹œë‹¤.

```sh:
$ curl -X POST -H 'Content-Type: application/json' -d '{"email":"kibong.moon@gmail.com", "password":"guessme"}' localhost:3000/api/auth/login
```

ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì™”ë‹¤ë©´ ì„±ê³µ!

```Output:
{"token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIyOTA1ZThjMy03ZWZiLTRjMjQtOWQ2Ni0xOGY1OGNkZTliNjkiLCJleHAiOjE3MTU5Mjg3NTF9.2B_rf_KWXlnhbgtxkcxoViXA05liTZ32U3oDohVjWsJ8n9ApGPLeCeg2AJfOYkxTsPw1g9g-uyA3aPp0_Or9Bw","pid":"2905e8c3-7efb-4c24-9d66-18f58cde9b69","name":"Kibong","is_verified":false}
```

> [!NOTE]
> ëŒ€ë¶€ë¶„ì˜ RESTful APIëŠ” ì‚¬ìš©ì ì¸ì¦ì„ ìœ„í•´ Jason Web Token(JWT)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ìœ„ ê²°ê³¼ í™”ë©´ì—ì„œ `"token":` ë’¤ì— ìˆëŠ” í° ë”°ì˜´í‘œ ì•ˆì˜ ì•”í˜¸ë¬¸ì²˜ëŸ¼ ë³´ì´ëŠ” ë¬¸ìì—´ì´ ë°”ë¡œ JWTì…ë‹ˆë‹¤.

* JWTë¥¼ ì´ìš©í•œ HTTP ìš”ì²­

```sh:
# ì•„ë˜ <TOKEN> ë¶€ë¶„ì— `login` ìš”ì²­ì„ í†µí•´ ë°›ì€ JWT ê°’ì„ ë„£ì–´ ì£¼ì„¸ìš”.
$ curl -X GET -H 'Content-Type: application/json' -H 'Authorization: Bearer <TOKEN>' localhost:3000/api/user/current
```

* Article ëª¨ë¸ì— ëŒ€í•œ CRUD í…ŒìŠ¤íŠ¸

ìŠ¤ìºí´ë”©ìœ¼ë¡œ `article`ì— ëŒ€í•œ MVCë¥¼ ìƒì„±í•˜ê³  ê²Œì‹œë¬¼ì„ ì¡°íšŒí•˜ê³  ì¶”ê°€í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ í–ˆì—ˆìŠµë‹ˆë‹¤.
ë°ì´í„°ë¥¼ ìƒˆë¡œ ì¶”ê°€í•˜ê³ , ê¸°ì¡´ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê³ , ê¸°ì¡´ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ë“± CRUD ê¸°ëŠ¥ì´ ì„œë²„ê°€ í•˜ëŠ” ì¼ì˜ ëŒ€ë¶€ë¶„ì„ ì°¨ì§€í•©ë‹ˆë‹¤.
> [!NOTE]
> CRUDëŠ” ë°ì´í„° ìƒì„±(Create), ì¡°íšŒ(Read), ë³€ê²½(Update), ì‚­ì œ(Delete)ì„ ì¤„ì—¬ ë¶€ë¥´ëŠ” ë§ì…ë‹ˆë‹¤. ê°ê°ì€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ë£¨ëŠ” SQLì˜ ì¶”ê°€(Insert), ê²€ìƒ‰(Select), ë³€ê²½(Update), ì‚­ì œ(Delete)ì— ëŒ€ì‘í•©ë‹ˆë‹¤.

ì•„ì§ê¹Œì§€ ìš°ë¦¬ëŠ” ë‹¨ í•œ ì¤„ì˜ ì½”ë”©ë„ í•˜ì§€ ì•Šì•˜ì§€ë§Œ, ìƒˆë¡œ ë§Œë“  ìš°ë¦¬ì˜ API ì„œë²„ëŠ” ì´ CRUDì— ê´€í•œ í•œ, ì´ë¯¸ ì™„ë²½í•˜ê²Œ ì‘ë™í•˜ëŠ” ì™„ì„±ì²´ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¯¸ í–ˆë˜ ë‚´ìš©ì´ì§€ë§Œ ë‹¤ì‹œ í•œ ë²ˆ ë‹¤ìŒ ëª…ë ¹ë“¤ì„ ë”°ë¼ì„œ ì‹¤í–‰í•´ ë³´ì„¸ìš”.

- ìƒì„±(CREATE):

```sh:
$ curl -X POST -H 'Content-Type: application/json' -d '{"title":"Bye", "content":"World"}' localhost:3000/api/articles
```

- ê²°ê³¼:

```Output:
{"created_at":"2024-06-09T12:08:10.290779","updated_at":"2024-06-09T12:08:10.290779","id":2,"title":"Bye","content":"World"}
```

> [!TIP]
> ì•ì—ì„œ ì´ë¯¸ ì €ì¥í–ˆë˜ ê²Œì‹œë¬¼ì´ ìˆê¸° ë•Œë¬¸ì— ì•„ë˜ ìƒˆë¡œ ì¶”ê°€í•œ ê²Œì‹œë¬¼ì˜ `id`ëŠ” `2`ê°€ ë˜ëŠ” ê²ƒì„ ìœ ë…í•˜ì„¸ìš”.

- ì¡°íšŒ(READ) - ëª¨ë“  ê²Œì‹œë¬¼ ì¡°íšŒí•˜ê¸°:

```sh:
$ curl -X GET -H 'Content-Type: application/json' localhost:3000/api/articles
```

- ê²°ê³¼:

```Output:
    [{"created_at":"2024-06-06T12:17:27.076368","updated_at":"2024-06-06T12:17:27.076368","id":1,"title":"Hello","content":"World"},{"created_at":"2024-06-09T12:08:10.290779","updated_at":"2024-06-09T12:08:10.290779","id":2,"title":"Bye","content":"World"}]
```

- ì¡°íšŒ(READ) - `id`ê°€ 1ì¸ ê²Œì‹œë¬¼ í•˜ë‚˜ë§Œ ì¡°íšŒí•˜ê¸°:

```sh:
$ curl -X GET -H 'Content-Type: application/json' localhost:3000/api/articles/1
```

- ê²°ê³¼:

```Output:
{"created_at":"2024-06-06T12:17:27.076368","updated_at":"2024-06-06T12:17:27.076368","id":1,"title":"Hello","content":"World"}
```

- ë³€ê²½(Update):

```sh:
$ curl -X POST -H 'Content-Type: application/json' -d '{"title":"Hello", "content":"World"}' localhost:3000/api/articles/2
```
- ê²°ê³¼:

```Output:
{"created_at":"2024-06-09T12:08:10.290779","updated_at":"2024-06-09T12:08:10.290779","id":2,"title":"Hello","content":"World"}
```

- ì‚­ì œ(Delete):

```sh:
$ curl -X DELETE -H 'Content-Type: application/json' localhost:3000/api/articles/2
```
- ê²°ê³¼:

```Output:
```

> [!NOTE]
> ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì†ŒìŠ¤ì½”ë“œì—ì„œëŠ” `DELETE` ë©”ì†Œë“œì— ëŒ€í•´ì„œëŠ” ì•„ë¬´ê²ƒë„ ë°˜í™˜í•˜ì§€ ì•Šë„ë¡ ì‘ì„±ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ê²°ê³¼ì— ì•„ë¬´ê²ƒë„ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ” ê²ƒì´ ì •ìƒì…ë‹ˆë‹¤.

### 2.6 ì¡°ê±´ ê²€ìƒ‰ê³¼ í˜ì´ì§€ ê¸°ëŠ¥ ì¶”ê°€

í˜„ì¬ ë§Œë“¤ì–´ì§„ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” `localhost:3000/api/articles` ìš”ì²­ì— ëŒ€í•´ ì €ì¥ë˜ì–´ ìˆëŠ” ëª¨ë“  ê²Œì‹œë¬¼ì„ ë°˜í™˜í•˜ë„ë¡ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ê²Œì‹œë¬¼ì´ ê³„ì† ì¶”ê°€ë˜ì–´ ìˆ˜ì²œ ë˜ëŠ” ìˆ˜ë§Œ ê°œ ì´ìƒì´ ì €ì¥ë˜ì–´ ìˆë‹¤ë©´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‹œê°„ë„ ì˜¤ë˜ ê±¸ë¦´ ê²ƒì´ê³  ì›í•˜ëŠ” ê²Œì‹œë¬¼ì„ ì°¾ëŠ” ê²ƒì´ ì–´ë ¤ìš´ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.

ì œëª©ì´ë‚˜ ë³¸ë¬¸ì— íŠ¹ì • ë‹¨ì–´ë‚˜ ë¬¸êµ¬ë¥¼ í¬í•¨í•˜ëŠ” ê²Œì‹œë¬¼ë§Œ ë”°ë¡œ ê²€ìƒ‰í•  ìˆ˜ ìˆë„ë¡ ë°”ê¿” ë³´ê² ìŠµë‹ˆë‹¤.
`src/controllers/article.rs` íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ ê²€ìƒ‰ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•  ì¿¼ë¦¬ íŒŒë¼ë©”í„°ë¥¼ ì •ì˜í•´ ì¤ë‹ˆë‹¤.

```rust:
// add crates to use
use axum::extract::Query;
use sea_orm::Condition;

#[derive(Debug, Deserialize, Serialize)]
pub struct QueryParams {
    pub title: Option<String>,
    pub content: Option<String>
}
```

ë¼ìš°íŒ… ì„¤ì •ì— ë”°ë¼ ëª©ë¡ì„ ì¡°íšŒí•˜ëŠ” íŒ¨ìŠ¤ëŠ” `list()` í•¨ìˆ˜ì— ëŒ€ì‘ë˜ì–´ ìˆëŠ”ë° ìŠ¤ìºí´ë”©ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
```rust:
pub async fn list(State(ctx): State<AppContext>) -> Result<Response> {
    format::json(Entity::find().all(&ctx.db).await?)
}
```

ì´ ë¶€ë¶„ì„ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•˜ë©´ ì¿¼ë¦¬ íŒŒë¼ë©”í„°ë¥¼ ì´ìš©í•´ ì¡°ê±´ ê²€ìƒ‰ì„ í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.
```rust:
pub async fn list(Query(query_params): Query<QueryParams>, State(ctx): State<AppContext>) -> Result<Response> {
    let title_filter = query_params.title.as_ref().unwrap_or(&String::new()).clone();
    let content_filter = query_params.content.as_ref().unwrap_or(&String::new()).clone();
    let mut condition = Condition::all();
    if !title_filter.is_empty() {
        condition = condition.add(Column::Title.contains(&title_filter));
    }
    if !content_filter.is_empty() {
        condition = condition.add(Column::Content.contains(&content_filter));
    }
    
    let response = Entity::find().filter(condition).all(&ctx.db).await?;
    format::json(response)
}
```

`Column::Title`ê³¼ `Column::Content`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ë ¤ë©´ ì½”ë“œì˜ ìœ— ë¶€ë¶„ì—ì„œ ë‹¤ìŒ ë¶€ë¶„ì„ ì°¾ì•„ì„œ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.

```rust:
use crate::models::_entities::articles::{ActiveModel, Entity, Model};
```

ì´ ë¶€ë¶„ì— ì•„ë˜ì™€ ê°™ì´ `Column`ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```rust:
use crate::models::_entities::articles::{ActiveModel, Entity, Model, Column};
```

ì„œë²„ë¥¼ ì¬ì‹œì‘í•œ í›„ ì›¹ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ì—ì„œ `localhost:3000/api/articles?title=Hello&content=World`ë¥¼ ì…ë ¥í•˜ê±°ë‚˜ wsl ì‰˜ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ ë³´ì„¸ìš”.

```sh:
$ curl -X GET -H 'Content-Type: application/json' localhost:3000/api/articles?title=Hello&content=World
```

> [!NOTE]
> ì°¸ê³ ë¡œ ìœ„ URLì—ì„œ ë¬¼ìŒí‘œ(?) ë‹¤ìŒì— ìˆëŠ” ë¶€ë¶„ì„ ì¿¼ë¦¬ìŠ¤íŠ¸ë§(Query String)ì´ë¼ê³  í•©ë‹ˆë‹¤. ìœ„ ì˜ˆì—ì„œ `title=Hello&content=World`ì— í•´ë‹¹í•©ë‹ˆë‹¤.

ì¡°ê±´ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë”ë¼ë„ ì‚¬ìš©ìê°€ ê²€ìƒ‰ ì¡°ê±´ì„ ì§€ì •í•˜ì§€ ì•Šì•˜ê±°ë‚˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë°ì´í„°ê°€ ë„ˆë¬´ ë§ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ° ê²½ìš°ì—ëŠ” í•œ ë²ˆì— ë§ì€ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ê¸° ë³´ë‹¤ëŠ” í•œ ë²ˆì— ì—´ ê°œ ë˜ëŠ” ìŠ¤ë¬´ ê°œ ì”© í˜ì´ì§€ë¥¼ ë‚˜ëˆ ì„œ ë³´ì—¬ì£¼ê³  ì‚¬ìš©ìê°€ ì›í•˜ëŠ” í˜ì´ì§€ë¥¼ ì´ë™í•  ìˆ˜ ìˆë„ë¡ í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤. Pagination ì´ë¼ê³  ë¶€ë¥´ëŠ” ê¸°ë²•ì„ ì´ìš©í•´ ê·¸ì™€ ê°™ì€ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ë³´ë‚´ëŠ” ìš”ì²­ì— í•œ í˜ì´ì§€ì— ë‚˜íƒ€ë‚¼ ë°ì´í„° í–‰ ìˆ˜(page_size)ì™€ ë³´ê³ ì í•˜ëŠ” í˜ì´ì§€ ë²ˆí˜¸(page)ë¥¼ ìœ„ì— ì¡°ê±´ ê²€ìƒ‰ì„ ìœ„í•´ ì‚¬ìš©í•œ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì— í¬í•¨í•´ ë³´ë‚´ë©´ ì„œë²„ëŠ” ê²€ìƒ‰ ê²°ê³¼ì— í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸, í˜ì´ì§€ í¬ê¸°, ì „ì²´ í˜ì´ì§€ ìˆ˜(total_pages)ë¥¼ ë°ì´í„°ì™€ í•¨ê»˜ ë°˜í™˜í•©ë‹ˆë‹¤.

í˜ì´ì§€ë„¤ì´ì…˜ì„ ìœ„í•´ ë‹¤ì‹œ `src/controllers/article.rs` íŒŒì¼ì„ í¸ì§‘í•©ë‹ˆë‹¤.

ìš°ì„  ë‹¤ìŒ ë‘ ì¤„ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```rust:
use loco_rs::model::query::{PaginationQuery, PageResponse};
use loco_rs::controller::views::pagination::{Pager, PagerMeta};
```

ê·¸ ì•„ë˜

```rust:
use crate::models::_entities::articles::{ActiveModel, Entity, Model};
```

ë¼ê³  ë˜ì–´ ìˆëŠ” ë¶€ë¶„ì— ì¤„ì— `Column`ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```rust:
use crate::models::_entities::articles::{ActiveModel, Entity, Model, Column};
```

ì¿¼ë¦¬ íŒŒë¼ë©”í„°ì— í˜ì´ì§€ë„¤ì´ì…˜ ì¿¼ë¦¬ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. ì°¸ê³ ë¡œ, `#[serde(flatten)]` ë§¤í¬ë¡œë¥¼ í˜ì´ì§€ë„¤ì´ì…˜ ì¿¼ë¦¬ íŒŒë¼ë©”í„° ì•ì— ë¶™ì—¬ ì¤˜ì•¼ë§Œ ë‹¤ë¥¸ ì¿¼ë¦¬ íŒŒë¼ë©”í„°ë“¤ê³¼ ë‚˜ë€íˆ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```rust:
#[derive(Debug, Serialize, Deserialize)]
pub struct QueryParams {
    pub title: Option<String>,
    pub content: Option<String>,
    #[serde(flatten)]                                       // added
    pub pagination_query: PaginationQuery,                  // added
}
```

í˜ì´ì§€ë„¤ì´ì…˜ì˜ ê²°ê³¼ë¥¼ ë‹´ì„ êµ¬ì¡°ì²´(struct)ì— ëŒ€í•œ ì •ì˜ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
```rust:
#[derive(Debug, Deserialize,Serialize)]
pub struct ListResponse {
    pub id: i32,
    pub title: Option<String>,
    pub content: Option<String>,
    pub created_at: DateTime,
    pub updated_at: DateTime,
}

#[derive(Debug, Deserialize,Serialize)]
pub struct PaginationResponse {}

impl From<Model> for ListResponse {
    fn from(article: Model) -> Self {
        Self {
            id: article.id,
            title: article.title.clone(),
            content: article.content.clone(),
            created_at: article.created_at,
            updated_at: article.updated_at,
        }
    }
}
impl PaginationResponse {
    #[must_use]
    pub fn response(
        data: PageResponse<Model>,
        pagination_query: &PaginationQuery,
    ) -> Pager<Vec<ListResponse>> {
        Pager {
            results: data
            .page
            .into_iter()
            .map(ListResponse::from)
            .collect::<Vec<ListResponse>>(),
            info: PagerMeta {
                page: pagination_query.page,
                page_size: pagination_query.page_size,
                total_pages: data.total_pages,
            },
        }
    }
}
```

ê·¸ ë‹¤ìŒ `fn list()` í•¨ìˆ˜ ëì—ì„œ JSON í˜•ì‹ì˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ëŠ” ë¶€ë¶„ì¸

```rust:
  let response = Entity::find().filter(condition).all(&ctx.db).await?;
  format::json(response)
```

ì´ ë¶€ë¶„ì„ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í•©ë‹ˆë‹¤.

```rust:
    let response = model::query::paginate(
        &ctx.db, Entity::find(), Some(condition), &query_params.pagination_query
    ).await?;
    format::json(PaginationResponse::response(response, &query_params.pagination_query))
```

í˜ì´ì§€ë„¤ì´ì…˜ ì¿¼ë¦¬ê°€ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì›¹ ë¸Œë¼ìš°ì €ë‚˜ wsl ì‰˜ì—ì„œ ê²Œì‹œë¬¼ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

```sh:
$ curl -X GET -H 'Content-Type: application/json' localhost:3000/api/articles?title=Hello&content=World&page_size=5
```

ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”.

```Output:
{"results":[{"id":1,"title":"Hello","content":"World","created_at":"2024-06-11T01:09:39.917469","updated_at":"2024-06-11T01:09:39.917469"}],"pagination":{"page":1,"page_size":25,"total_pages":1}}
```

ì°¸ê³ ë¡œ `page_size`ë¥¼ ì§€ì •í•˜ì§€ ì•Šì„ ê²½ìš° ë””í´íŠ¸ëŠ” 10ì…ë‹ˆë‹¤.

<i>ì—¬ê¸°ê¹Œì§€ ì˜ ë”°ë¼í•˜ì…¨ì£ ? ì—¬ëŸ¬ë¶„ì€ ë°©ê¸ˆ ìµœê³  ìˆ˜ì¤€ì˜ API ì„œë²„ë¥¼ ì™„ì„±í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.<b>ğŸ‰ğŸ‰ğŸ‰ì¶•í•˜í•©ë‹ˆë‹¤.ğŸ‰ğŸ‰ğŸ‰</b></i>

ì´ API ì„œë²„ë¥¼ ë©‹ì§€ê²Œ í™œìš©í•˜ê¸° ìœ„í•´ ì•ìœ¼ë¡œ ë‚¨ì€ ì¼ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- [x] í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ
- [ ] ì‚¬ìš©ì ê¶Œí•œ ê´€ë¦¬ ë ˆì´ì–´ ì¶”ê°€
- [ ] ë” ë§ì€ ëª¨ë¸ ì¶”ê°€

## ì œ 2 ì¥. í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ
## 1. ê°œë°œ í™˜ê²½

í”„ë¡ íŠ¸ì—”ë“œëŠ” ëª¨ë°”ì¼ì•±, ë°ìŠ¤í¬í†± ì• í”Œë¦¬ì¼€ì´ì…˜, ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¤‘ í•˜ë‚˜ì¼ ê²ƒì…ë‹ˆë‹¤.

ë©‹ì§„ ëª¨ë°”ì¼ì•±ì´ë‚˜ ë°ìŠ¤í¬í†± ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“œëŠ” ê²ƒì€ ìƒë‹¹í•œ ë…¸ë ¥ê³¼ ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤. ë˜í•œ ê°œë°œì— ëŒ€í•œ ìƒë‹¹í•œ ì „ë¬¸ ì§€ì‹ì´ ì—†ë‹¤ë©´ ì„ ëœ» ì—„ë‘ë¥¼ ë‚´ê¸° ì–´ë µìŠµë‹ˆë‹¤.

ë‹¤í–‰íˆë„ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ìƒëŒ€ì ìœ¼ë¡œ ì ‘ê·¼ì´ ì‰¬ìš´ í¸ì…ë‹ˆë‹¤. ë¬¼ë¡  í™”ë ¤í•œ ë””ìì¸ê³¼ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼, ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ê¸°ëŠ¥ì„ ìš”êµ¬í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ëŠ” ê²½ìš°ì—ëŠ” ëª¨ë°”ì¼ ë˜ëŠ” ë°ìŠ¤í¬í†± ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“œëŠ” ê²ƒ ì´ìƒì˜ ë‚œì´ë„ê°€ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ CRUD ì •ë„ë§Œ ë‹¤ë£¨ëŠ” ë‹¨ìˆœí•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë¼ë©´ ì›¹ ì‚¬ì´íŠ¸ê°€ ë™ì‘í•˜ëŠ” ì›ë¦¬ì™€ HTMLì— ëŒ€í•œ ì•½ê°„ì˜ ì§€ì‹ë§Œìœ¼ë¡œë„ ê°œë°œì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë§Œì•½ ê°œë°œí•˜ë ¤ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ê³ ê° ì„œë¹„ìŠ¤ ê´€ë¦¬ ëª©ì ìœ¼ë¡œ íšŒì‚¬ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ê±°ë‚˜ ë³¸ê²©ì ìœ¼ë¡œ ê³ ê°ìš© ì•±ì„ ê°œë°œí•˜ê¸°ì— ì•ì„œ ê°œë…ì„ ì¦ëª…í•˜ê³  ê´€ë ¨ëœ ì‚¬ëŒë“¤ì˜ ì´í•´ë¥¼ ë•ê¸° ìœ„í•œ ëª©ì ì˜ í”„ë¡œí† íƒ€ì…ì´ë¼ë©´ ë¬´ì—‡ë³´ë‹¤ ë¹ ë¥¸ ê°œë°œì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

ì´ ì¥ì—ì„œëŠ” ì• ì¥ì—ì„œ ë§Œë“¤ì–´ì§„ API ì„œë²„ë§Œ ê°€ì§€ê³  ì™„ë²½í•˜ê²Œ ë™ì‘í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì•„ì£¼ ë¹ ë¥´ê²Œ ê°œë°œí•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•˜ê³ ì í•©ë‹ˆë‹¤.

ì‹œì‘í•˜ê¸° ì „ì— 2.4 ì ˆì—ì„œ ìƒˆë¡œ ì¶”ê°€í•œ ê²Œì‹œë¬¼ì„ ì¡°íšŒí•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í–ˆë˜ curl ëª…ë ¹ì„ ë‹¤ì‹œ í•œ ë²ˆ ì‚´í´ë³´ê¸°ë¡œ í•©ì‹œë‹¤.

```sh:
$ curl -X GET -H 'Content-Type: application/json' localhost:3000/api/articles
```

ìœ„ ëª…ë ¹ì–´ì˜ ë§¨ ë’¤ì— ìˆëŠ” `localhost:3000/api/articles`ë¥¼ ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ì— ì…ë ¥í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ í‘œì‹œë  ê²ƒì…ë‹ˆë‹¤. (í˜¹ì‹œ `[]`ë§Œ í‘œì‹œë˜ë”ë¼ë„ ë†€ë¼ì§€ëŠ” ë§ˆì„¸ìš”. 2.4 ì ˆì—ì„œ ê²Œì‹œë¬¼ì„ ìƒˆë¡œ ìƒì„±í•˜ëŠ” POST ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šì•˜ê±°ë‚˜ ì ˆì°¨ë¥¼ ë¹ ëœ¨ë ¤ì„œ ê²Œì‹œë¬¼ ì €ì¥ì— ì‹¤íŒ¨í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë‹¤ì‹œ í•œ ë²ˆ ì•ì— ì„¤ëª…ì„ ì˜ ë”°ë¼ í•´ ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.)
![Response to http://localhost:3000/api/articles Request from Browser](assets/static/get-articles-from-browser.png)

[Loco](https://loco.rs/)ë¡œ ê°œë°œí•˜ëŠ” API ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì˜¤ëŠ” HTTP ìš”ì²­ì„ ì²˜ë¦¬í•œ í›„ ê·¸ ê²°ê³¼ë¥¼ [JSON](https://namu.wiki/w/JSON) í˜•ì‹ì˜ ë°ì´í„°ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤. ì›¹ ë¸Œë¼ìš°ì €ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” HTML íŒŒì¼ í˜•ì‹ì˜ ë°ì´í„°ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ìœ„ ì´ë¯¸ì§€ì²˜ëŸ¼ ê²Œì‹œë¬¼ ë°ì´í„°ì˜ ë‚´ìš©ë§Œ ë©ê·¸ë§ˆë‹ˆ í‘œì‹œí•´ ì¤„ ë¿ì…ë‹ˆë‹¤.

ë°”ê¿” ë§í•˜ë©´, ìš°ë¦¬ê°€ ë§Œë“  API ì„œë²„ì—ì„œ ë°˜í™˜í•´ ì£¼ëŠ” ë°ì´í„° í˜•ì‹ì„ JSONì´ ì•„ë‹Œ HTML í˜•ì‹ìœ¼ë¡œ ë°”ê¿”ì¤„ ìˆ˜ë§Œ ìˆë‹¤ë©´ ë³„ë„ì˜ ë³µì¡í•œ ê°œë°œ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ í”„ë¡ íŠ¸ì—”ë“œê¹Œì§€ í¬í•¨í•˜ëŠ” [í’€ìŠ¤íƒ ê°œë°œ](https://aws.amazon.com/ko/what-is/full-stack-development/)ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.

1ì¥ì—ì„œ CRUDë¥¼ ìœ„í•œ APIëŠ” 100% ë¦¬ëˆ…ìŠ¤ ì‰˜ì—ì„œ ëª…ë ¹ì–´ë§Œìœ¼ë¡œ ìë™ìœ¼ë¡œ ê°œë°œí•  ìˆ˜ ìˆì—ˆì§€ë§Œ, ì´ì œë¶€í„° í”„ë¡ íŠ¸ì—”ë“œëŠ” Rustì™€ HTML íŒŒì¼ì„ ì§ì ‘ í¸ì§‘í•  ì¼ì´ ë§ìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì„ ìœ„í•´ ì•„ë˜ ì‚¬í•­ì„ ë¨¼ì € ì¤€ë¹„í•´ ì£¼ì„¸ìš”.

- [x] [Visual Studio Code](https://code.visualstudio.com/) - VSCode ì„¤ì¹˜ í”„ë¡œê·¸ë¨ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì‹¤í–‰
- [x] [VSCodeì™€ wsl ì—°ë™](https://learn.microsoft.com/ko-kr/windows/wsl/tutorials/wsl-vscode)
- [x] VSCodeì— [Rust Analyzer](https://marketplace.visualstudio.com/items?itemName=rust-lang.rust-analyzer) ì„¤ì¹˜

## 2. HTMX í…œí”Œë¦¿ì„ ì´ìš©í•œ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ
### 2.1 HTMX í…œí”Œë¦¿ í´ë” ë§Œë“¤ê¸°

[HTMX](https://htmx.org/)ëŠ” ë³µì¡í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ì§€ ì•Šê³ ë„ HTML ì—˜ë¦¬ë¨¼íŠ¸ì˜ ì†ì„±ì„ ì´ìš©í•´ ë™ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ì›¹ í˜ì´ì§€ë¥¼ êµ¬í˜„í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.

2ì¥ì—ì„œ ìƒì„±ëœ í”„ë¡œì íŠ¸ì˜ ìµœìƒìœ„ í´ë”ì— `templates` í´ë”ë¥¼ ë§Œë“¤ì–´ ì£¼ì„¸ìš”

```sh:
$ mkdir templates
```

> [!NOTE]
> ë˜ëŠ” í”„ë¡œì íŠ¸ ìµœìƒìœ„ í´ë”ì—ì„œ `code .` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ VSCodeë¥¼ ì—´ê³  `templates` í´ë”ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ ë‹¤ìŒ í˜„ì¬ í”„ë¡œì íŠ¸ì— [Askama](https://github.com/djc/askama)ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```sh:
$ cargo add askama
```

Rust ê°œë°œ í™˜ê²½ì—ì„œ HTMX í…œí”Œë¦¿ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¼ê³  ì´í•´í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

ì´ì œ í”„ë¡œì íŠ¸ì˜ ë””ë ‰í† ë¦¬ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```Output:
myapp
â”œâ”€â”€ Cargo.lock
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ README.md
â”œâ”€â”€ config
â”œâ”€â”€ examples
â”œâ”€â”€ migration
â”œâ”€â”€ src
â”œâ”€â”€ templates       # HTMX í…œí”Œë¦¿ íŒŒì¼ ì €ì¥ ìœ„ì¹˜ !!!
â””â”€â”€ tests
```

### 2.2 HTML íŒŒì¼ ì‘ì„±
HTML ê³ ìˆ˜ë¼ë©´ HTML ë§Œìœ¼ë¡œë„ ë©‹ì§„ í˜ì´ì§€ë¥¼ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [CSS](https://namu.wiki/w/CSS)ë¼ê³  ì•Œë ¤ì§„ ìŠ¤íƒ€ì¼ì‹œíŠ¸ ì–¸ì–´ë¥¼ ì˜ êµ¬ì‚¬í•˜ë©´ HTML íŒŒì¼ì€ ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ë©´ì„œë„ ë””ìì¸ê³¼ ê¸°ëŠ¥ì„±ì´ ë›°ì–´ë‚œ ì›¹ í˜ì´ì§€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ í™”ë©´ì´ë‚˜ í™”ë©´ì˜ êµ¬ì„±ìš”ì†Œê°€ ì¶”ê°€ë˜ë©´ì„œ CSSì˜ êµ¬ì¡° ìì²´ê°€ ë³µì¡í•´ì§€ê³  ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§€ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. [Tailwind CSS](https://tailwindcss.com/)ëŠ” CSSì˜ ë³µì¡ì„± ë¬¸ì œë¥¼ í•´ê²°í•´ ì£¼ëŠ” ì¢‹ì€ ëŒ€ì•ˆì••ë‹ˆë‹¤.

HTML ë¬¸ì„œë¥¼ ë§Œë“œëŠ” ë° ìµìˆ™í•˜ì§€ ì•Šê³  Tailwind CSSëŠ” ê³ ì‚¬í•˜ê³  ìŠ¤íƒ€ì¼ì‹œíŠ¸ ì–¸ì–´ì— ëŒ€í•´ì„œë„ ìƒì†Œí•˜ë‹¤êµ¬ìš”? ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”. ë›°ì–´ë‚œ ì „ë¬¸ê°€ë“¤ì´ ì˜ ë§Œë“¤ì–´ ë†“ì€ í…œí”Œë¦¿ì„ ê°€ì ¸ì™€ ìì‹ ë§Œì˜ ì›¹ í˜ì´ì§€ë¡œ ì¡°ê¸ˆì”© ë°”ê¾¸ëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.

ì´ ì¥ì—ì„œ ìš°ë¦¬ê°€ ë§Œë“¤ë ¤ëŠ” í”„ë¡ íŠ¸ì—”ë“œëŠ” ë‚´ë¶€ ê´€ë¦¬ìë¥¼ ìœ„í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. ì¸í„°ë„· ê²€ìƒ‰ì„ í†µí•´ ì°¾ì•„ë‚¸ [Tailwind CSS](https://tailwindcss.com/)ë¥¼ ì´ìš©í•œ ê´€ë¦¬ì ì•±ì„ ìœ„í•œ ë¬´ë£Œ í…œí”Œë¦¿ [Tailwind Admin Template](https://github.com/davidgrzyb/tailwind-admin-template)ì„ ì´ìš©í•´ ë´…ì‹œë‹¤. 

ê¹ƒí—™ì—ì„œ ìœ„ í”„ë¡œì íŠ¸ì˜ ì••ì¶•íŒŒì¼ì„ [Download](https://github.com/davidgrzyb/tailwind-admin-template/archive/refs/heads/master.zip)í•œ í›„ ì••ì¶•ì„ í‘¸ì‹  í›„, ëª¨ë“  HTML íŒŒì¼ì„ ìš°ë¦¬ í”„ë¡œì íŠ¸ì˜ `templates` í´ë”ì— ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ ë„£ìŠµë‹ˆë‹¤.

ë³µì‚¬í•´ ì˜¨ HTML íŒŒì¼ì˜ ë‚´ìš©ì„ ì ê¹ ì‚´í´ ë³´ì‹œë©´ ì•Œê² ì§€ë§Œ, ìœ„ í…œí”Œë¦¿ì—ì„œ ë©”ì¸ í™”ë©´ì— í•´ë‹¹í•˜ëŠ” ê²ƒì€ index.html íŒŒì¼ì…ë‹ˆë‹¤. ë‹¤ìŒ ì ˆì—ì„œëŠ” ì›¹ë¸Œë¼ìš°ì €ì—ì„œ HTTP ìš”ì²­ì„ ë³´ë‚´ ì´ í˜ì´ì§€ë¥¼ ë„ìš°ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

### 2.3 ì›¹í˜ì´ì§€ ë¡œë”©ì„ ìœ„í•œ ë¼ìš°íŒ… ì„¤ì •

ì›¹ ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì˜¤ëŠ” ì—¬ëŸ¬ê°€ì§€ HTTP ìš”ì²­ì— ëŒ€í•´ ê·¸ ìš”ì²­ì— í¬í•¨ë˜ì–´ ìˆëŠ” URLì„ í†µí•´ ê°ê° ì–´ë–¤ ê²°ê³¼ë¥¼ ë°˜í™˜í•´ì•¼ í•˜ëŠ”ì§€(ë˜ëŠ” ì–´ë–¤ í˜ì´ì§€ë¥¼ ë¡œë”©í•´ì•¼ í•˜ëŠ”ì§€)ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. URLì€ ì‰½ê²Œ ë§í•˜ë©´ ì›¹ë¸Œë¼ìš°ì €ì˜ ì£¼ì†Œì°½ì— ì…ë ¥í•˜ëŠ” ì†Œìœ„ 'ì£¼ì†Œ'ì— í•´ë‹¹í•©ë‹ˆë‹¤. ì£¼ì†Œ ë˜ëŠ” URLì€ í”„ë¡œí† ì½œ(protocol), ë„ë©”ì¸(domain), íŒ¨ìŠ¤(path)ë¡œ êµ¬ì„±ë˜ëŠ”ë°, ì˜ˆë¥¼ ë“¤ì–´, `http://acme.com/api/articles`ì—ì„œ `http`ëŠ” í”„ë¡œí† ì½œ, `acme.com`ì€ ë„ë©”ì¸, `api/articles`ëŠ” íŒ¨ìŠ¤ì— í•´ë‹¹í•©ë‹ˆë‹¤. í”„ë¡œí† ì½œì€ ë””í´íŠ¸ê°’ì´ `http`ì´ê¸° ë–„ë¬¸ì— ìƒëµ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë˜ë‹¤ë¥¸ URL `localhost:3000/api/articles`ì—ì„œ í”„ë¡œí† ì½œì€ `http`(ìƒëµ), ë„ë©”ì¸ì€ `localhost:3000`(3000ì€ í†µì‹  í¬íŠ¸ ë²ˆí˜¸. ìƒëµí•˜ë©´ ë””í´íŠ¸ ê°’ì´ 80)ì´ë©°, íŒ¨ìŠ¤ëŠ” ì•ì˜ ì˜ˆì™€ ë™ì¼í•©ë‹ˆë‹¤.

í”„ë¡œí† ì½œê³¼ ë„ë©”ì¸ ì •ë³´ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ì„œë²„ì— ë„ë‹¬í•˜ë©´, ì„œë²„ëŠ” íŒ¨ìŠ¤ ì •ë³´ë¥¼ í†µí•´ ì–´ë–¤ í–‰ë™ì„ ì·¨í• ì§€(ìš”ì²­ì— ëŒ€í•´ ì–´ë–¤ ë¡œì§ì„ ìˆ˜í–‰í•˜ì—¬ ê·¸ ê²°ê³¼ë¡œì„œ ì–´ë–¤ ì‘ë‹µì„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë³´ë‚´ì•¼ í•˜ëŠ”ì§€)ë¥¼ íŒë‹¨í•˜ê²Œ ë©ë‹ˆë‹¤. ì›¹ ì„œë²„ê°€ ì–´ë–¤ íŒ¨ìŠ¤ì— ì–´ë–»ê²Œ ì‘ë‹µí•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ì •í•´ ë†“ì€ ê²ƒì„ ë¼ìš°íŒ…(routing)ì´ë¼ê³  í•©ë‹ˆë‹¤.

[Loco](https://loco.rs) í”„ë ˆì„ì›ì—ì„œ ë¼ìš°íŒ…ì— ëŒ€í•œ ì •ë³´ëŠ” `src/app.rs`ì— ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. íŒŒì¼ì„ ì—´ì–´ `routes()` í•¨ìˆ˜ ë¶€ë¶„ì„ í™•ì¸í•´ ë³´ì„¸ìš”.

```rust:
fn routes(_ctx: &AppContext) -> AppRoutes {
        AppRoutes::with_default_routes()
            .add_route(controllers::article::routes())
            .prefix("/api")
            .add_route(controllers::notes::routes())
            .add_route(controllers::auth::routes())
            .add_route(controllers::user::routes())
    }
```

`cargo loco start` ëª…ë ¹ìœ¼ë¡œ ì›¹ ì„œë²„ê°€ ì‹œì‘í•˜ë©´ì„œ ìœ„ í•¨ìˆ˜ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤. `.add_route(controllers::article::routes())`ì™€ `.prefix("api")`ë¥¼ ëˆˆì—¬ê²¨ ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤. ìš°ë¦¬ê°€ 1ì¥ì—ì„œ ìŠ¤ìºí´ë”©í•œ í›„ ë³„ë„ì˜ ì¶”ê°€ ì½”ë”© ì—†ì´ `localhost:3000/api/articles`ë¼ëŠ” URLì„ ì´ìš©í•´ ê²Œì‹œë¬¼ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì¡°íšŒí•  ìˆ˜ ìˆì—ˆë˜ ê²ƒì€, ìŠ¤ìºí´ë”© ê³¼ì •ì—ì„œ `.add_route(controllers::article::routes())` ë¶€ë¶„ì´ ìë™ìœ¼ë¡œ ì¶”ê°€(injected)ë˜ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë§ë¶™ì—¬ ì„¤ëª…í•˜ìë©´, `.prefix("api")`ëŠ” `loco new` ëª…ë ¹ìœ¼ë¡œ `myapp` í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•  ë•Œ ìš°ë¦¬ê°€ `Rest API`ë¥¼ ì„ íƒí–ˆê¸° ë•Œë¬¸ì¸ë°, ë§Œì•½ `SaaS App`ì„ ì„ íƒí–ˆë‹¤ë©´ ì´ ë¶€ë¶„ì´ ìƒëµë©ë‹ˆë‹¤.

ì´ë²ˆì—ëŠ” `src/controllers/articles.rs` íŒŒì¼ì„ ì—´ì–´ ë³´ê² ìŠµë‹ˆë‹¤. `fn routes()` í•¨ìˆ˜ ë¶€ë¶„ì„ í™•ì¸í•´ ë³´ì„¸ìš”.

```rust:
pub fn routes() -> Routes {
    Routes::new()
        .prefix("articles")
        .add("/", get(list))
        .add("/", post(add))
        .add("/:id", get(get_one))
        .add("/:id", delete(remove))
        .add("/:id", post(update))
}
```

1ì¥ ë§ˆì§€ë§‰ ì ˆì—ì„œ CRUD í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©í•œ ìš”ì²­ í˜•ì‹ê³¼ íŒ¨ìŠ¤ëŠ” CREATE: (POST, /api/articles), READ: (GET, /api/articles & /api/articles/1), UPDATE: (POST, /api/articles/1), DELETE: (DELETE, /api/articles/1)ì´ì—ˆë˜ ê²ƒì„ ê¸°ì–µí•˜ë‚˜ìš”? ìœ„ `routes()` í•¨ìˆ˜ëŠ” ì´ ìš”ì²­ë“¤ì„ ê°ê° add, list & get_one, update, remove í•¨ìˆ˜ì— ë§¤í•‘í•´ ì£¼ê³  ìˆìŠµë‹ˆë‹¤.

ì„œë²„ê°€ ë°±ì—”ë“œ API ë¿ë§Œ ì•„ë‹ˆë¼ í”„ë¡ íŠ¸ì—”ë“œ í˜ì´ì§€ì— ëŒ€í•œ ìš”ì²­ê¹Œì§€ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•˜ë ¤ë©´ í˜„ì¬ì˜ ë¼ìš°íŒ… ì„¤ì •ì„ ë°”ê¿”ì¤˜ì•¼ í•©ë‹ˆë‹¤.

ìš°ì„  í˜„ì¬ ì„œë²„ëŠ” íŒ¨ìŠ¤ì— `/api`ê°€ ìˆëŠ” ìš”ì²­ë§Œ ì²˜ë¦¬í•˜ë„ë¡ ë˜ì–´ ìˆëŠ”ë°, `/admin`ì´ë¼ëŠ” ì ‘ë‘ì‚¬ë¥¼ ê°€ì§„ íŒ¨ìŠ¤ë¥¼ ê°€ì§„ ìš”ì²­ì„ ë°›ìœ¼ë©´ ê´€ë¦¬ììš© ì›¹ í˜ì´ì§€ë¥¼ ë„ì›Œì£¼ë„ë¡ ë°”ê¿” ë´…ì‹œë‹¤.

`src/app.rs`ì˜ `rountes()` í•¨ìˆ˜ì—ì„œ `.prefix("api")` ë¶€ë¶„ì„ ì‚­ì œí•©ë‹ˆë‹¤.

```rust:
    fn routes(_ctx: &AppContext) -> AppRoutes {
        AppRoutes::with_default_routes()
            .add_route(controllers::article::routes())
            .add_route(controllers::notes::routes())
            .add_route(controllers::auth::routes())
            .add_route(controllers::user::routes())
    }
```

`src/controllers/articles.rs`ì˜ `routes()` í•¨ìˆ˜ì˜ `prefix("articles")`ë¥¼ `prefix("api/articles")`ë¼ê³  ê³ ì³ì£¼ì„¸ìš”.(í˜„ì¬ ì´ë¯¸ ë§Œë“¤ì–´ì ¸ ìˆëŠ” ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ - `src/controllers` í´ë”ì— ìˆëŠ” `auth.rs`, `notes.rs`, `user.rs` - ì— ëŒ€í•´ì„œ ë˜‘ê°™ì´ í•´ì£¼ì„¸ìš”.)

```rust:
pub fn routes() -> Routes {
    Routes::new()
        .prefix("api/articles")    // 'api/' added
        .add("/", get(list))
        .add("/", post(add))
        .add("/:id", get(get_one))
        .add("/:id", delete(remove))
        .add("/:id", post(update))
}
```

ê´€ë¦¬ììš© ì›¹ í˜ì´ì§€ì— ëŒ€í•œ ìš”ì²­ì€ ë³„ë„ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ `src/controllers/admin` í´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ ì•„ë˜ì— `home.rs` íŒŒì¼ê³¼ `mod.rs` íŒŒì¼ì„ ë§Œë“œì„¸ìš”.
ë””ë ‰í† ë¦¬ êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ì´ ë°”ë€Œì–´ ìˆì„ ê²ƒì…ë‹ˆë‹¤.
```Output:
â”œâ”€â”€ src
â”‚Â 	 â”œâ”€â”€ app.rs               # ë³€ê²½ í•„ìš”
â”‚Â 	 â””â”€â”€ controllers
â”‚Â 	  Â 	 â”œâ”€â”€ admin
â”‚Â 	  Â 	 â”‚    â”œâ”€â”€ home.rs     # ìƒˆë¡œ ì¶”ê°€
â”‚Â 	  Â 	 â”‚    â””â”€â”€ mod.rs      # ìƒˆë¡œ ì¶”ê°€
â”‚Â 	  Â 	 â”œâ”€â”€ articles.rs
â”‚Â 	  Â 	 â”œâ”€â”€ auth.rs
â”‚Â 	  Â 	 â”œâ”€â”€ mod.rs           # ë³€ê²½ í•„ìš”
â”‚Â 	  Â 	 â”œâ”€â”€ notes.rs
â”‚Â 	  Â 	 â””â”€â”€ user.rs
â””â”€â”€ templates
 Â 	 â”œâ”€â”€ blank.html           # ë³€ê²½ í•„ìš”
 Â 	 â”œâ”€â”€ calendar.html        # ë³€ê²½ í•„ìš”
 Â 	 â”œâ”€â”€ forms.html           # ë³€ê²½ í•„ìš”
 Â 	 â”œâ”€â”€ index.html           # ë³€ê²½ í•„ìš”
 Â 	 â”œâ”€â”€ tables.html          # ë³€ê²½ í•„ìš”
 Â 	 â””â”€â”€ tabs.html            # ë³€ê²½ í•„ìš”
```

ìš°ì„  í…œí”Œë¦¿ìœ¼ë¡œ ì‚¬ìš©í•  ëª¨ë“  html íŒŒì¼ì—ì„œ `<a href=` ë¶€ë¶„ì˜ html íŒŒì¼ì— ëŒ€í•œ ë§í¬ë¥¼ ì„œë²„ íŒ¨ìŠ¤ í˜•ì‹ìœ¼ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤. ì¦‰, "index.html"ëŠ” "index", "blank.html"ëŠ” "blank", "calendar.html"ëŠ” "calendar", "forms.html"ëŠ” "forms", "tables.html"ëŠ” "tables", "tabs.html"ëŠ” "tabs"ë¡œ ì¼ê´„ ìˆ˜ì •í•©ë‹ˆë‹¤.

ìš°ë¦¬ì˜ ê³„íšì€ `home.rs`ì—ì„œ ê° ìš”ì²­ì— ëŒ€í•˜ì—¬ ëŒ€ì‘í•˜ëŠ” html íŒŒì¼ì„ í…œí”Œë¦¿ìœ¼ë¡œ ì¨ì„œ ì›¹ í˜ì´ì§€ë¥¼ ë Œë”ë§í•˜ë„ë¡ í•˜ë ¤ëŠ” ê²ƒì…ë‹ˆë‹¤. `src/controllers/admin/home.rs` íŒŒì¼ì˜ ì†ŒìŠ¤ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

```rust:
use loco_rs::prelude::*;
use askama::Template;
use axum::response::Html;
use axum::debug_handler;

#[derive(Template)]
#[template(path="blank.html")]
pub struct BlankTemplate {}

#[derive(Template)]
#[template(path="calendar.html")]
pub struct CalnedarTemplate {}

#[derive(Template)]
#[template(path="forms.html")]
pub struct FormsTemplate {}

#[derive(Template)]
#[template(path="index.html")]
pub struct IndexTemplate {}

#[derive(Template)]
#[template(path="tables.html")]
pub struct TablesTemplate {}

#[derive(Template)]
#[template(path="tabs.html")]
pub struct TabsTemplate {}

#[debug_handler]
pub async fn blank() -> Result<Response> {
    let template = BlankTemplate {};
    let rendered = template.render().unwrap();
    Ok(Html(rendered).into_response())
}

#[debug_handler]
pub async fn calendar() -> Result<Response> {
    let template = CalnedarTemplate {};
    let rendered = template.render().unwrap();
    Ok(Html(rendered).into_response())
}

#[debug_handler]
pub async fn forms() -> Result<Response> {
    let template = FormsTemplate {};
    let rendered = template.render().unwrap();
    Ok(Html(rendered).into_response())
}

#[debug_handler]
pub async fn index() -> Result<Response> {
    let template = IndexTemplate {};
    let rendered = template.render().unwrap();
    Ok(Html(rendered).into_response())
}

#[debug_handler]
pub async fn tables() -> Result<Response> {
    let template = TablesTemplate {};
    let rendered = template.render().unwrap();
    Ok(Html(rendered).into_response())
}

#[debug_handler]
pub async fn tabs() -> Result<Response> {
    let template = TabsTemplate {};
    let rendered = template.render().unwrap();
    Ok(Html(rendered).into_response())
}

pub fn routes() -> Routes {
    Routes::new()
        .prefix("/")
        .add("/", get(index))
        .add("/index", get(index))
        .add("/forms", get(forms))
        .add("/tables", get(tables))
        .add("/blank", get(blank))
        .add("/calendar", get(calendar))
        .add("/tabs", get(tabs))
}
```

ì„œë²„ê°€ ìƒˆë¡œ ì¶”ê°€ëœ ê²½ë¡œë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë‹¤ìŒê³¼ ê°™ì´ ê° íŒŒì¼ì˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.
`src/controllers/admin/mod.rs`ì— ë‹¤ìŒì˜ í•œ ì¤„ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```rust:
pub mod home;
```

`src/controllers/mod.rs`ì„ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•©ë‹ˆë‹¤.

```rust:
pub mod auth;
pub mod notes;
pub mod user;

pub mod article;
pub mod admin;        // ì¶”ê°€
```

`src/app.rs`ì˜ `routes()`ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•©ë‹ˆë‹¤.

```rust:
    fn routes(_ctx: &AppContext) -> AppRoutes {
        AppRoutes::with_default_routes()
            .add_route(controllers::article::routes())
            .add_route(controllers::notes::routes())
            .add_route(controllers::auth::routes())
            .add_route(controllers::user::routes())
            .add_route(controllers::admin::home::routes())   // ì¶”ê°€
    }
```

ì„œë²„ë¥¼ ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤.(í˜¹ì‹œ ì„œë²„ê°€ ì‹¤í–‰ì¤‘ì´ë¼ë©´ í•´ë‹¹ ì‰˜ì—ì„œ Ctrl+C ë¥¼ ëˆŒëŸ¬ ì¢…ë£Œí•œ í›„ ë‹¤ì‹œ `cargo loco start` ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.)

ì„œë²„ê°€ ì‹œì‘í•˜ë©´ ì›¹ ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ì— `localhost:3000`ì„ ì…ë ¥í•˜ê³  ì—”í„°í‚¤ë¥¼ ì¹©ë‹ˆë‹¤.
ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ ë‚˜íƒ€ë‚˜ë©´ ì„±ê³µ!
![Index Page Loaded](assets/static/htmx-admin-template-loaded.png)

í™”ë©´ ì™¼ìª½ì˜ Dashboard, Balnk Page,Tables, Forms, Tabbed Content, Calendarë¥¼ í•˜ë‚˜ì”© í´ë¦­í•˜ì—¬ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”.

### 2.4 í…œí”Œë¦¿ê³¼ MVC ì—°ë™í•˜ê¸°

ì´ë²ˆì—ëŠ” `articles`ì— ëŒ€í•œ í…œí”Œë¦¿ì„ ë§Œë“¤ì–´ ì´ë¥¼ ë°±ì—”ë“œ ì„œë²„ì˜ MVCì™€ ì—°ë™í•´ ë´…ì‹œë‹¤. ì˜ˆì œë¡œ í™œìš©í•  ìˆ˜ ìˆëŠ” html í…œí”Œë¦¿ì„ ìµœëŒ€í•œ í™œìš©í•˜ê² ìŠµë‹ˆë‹¤.

`templates/blank.html` íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ ìƒˆë¡œ `templates/articles.html` íŒŒì¼ì„ ë§Œë“  í›„ ë‹¤ìŒê³¼ ê°™ì´ íŒŒì¼ ë‚´ìš©ì„ ìˆ˜ì •í•´ ì£¼ì„¸ìš”. ì°¸ê³ ë¡œ ì•„ë˜ íŒŒì¼ì˜ ì…ë ¥ ì–‘ì‹(í¼)ê³¼ í‘œ(í…Œì´ë¸”)ì€ `forms.html` ê³¼ `tables.html`ì— ìˆëŠ” ê²ƒì„ ë³µì‚¬í•˜ì—¬ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

```HTML:
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <meta name="author" content="Kibong Moon">
    <meta name="description" content="Modified from Tailwind Admin Template by David Grzyb">

    <!-- Tailwind -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css?family=Karla:400,700&display=swap');
        .font-family-karla { font-family: karla; }
        .bg-sidebar { background: #3d68ff; }
        .cta-btn { color: #3d68ff; }
        .upgrade-btn { background: #1947ee; }
        .upgrade-btn:hover { background: #0038fd; }
        .active-nav-link { background: #1947ee; }
        .nav-item:hover { background: #1947ee; }
        .account-link:hover { background: #3d68ff; }
    </style>
</head>
<body class="bg-gray-100 font-family-karla flex">

    <aside class="relative bg-sidebar h-screen w-64 hidden sm:block shadow-xl">
        <div class="p-6">
            <a href="index" class="text-white text-3xl font-semibold uppercase hover:text-gray-300">Admin</a>
            <button class="w-full bg-white cta-btn font-semibold py-2 mt-5 rounded-br-lg rounded-bl-lg rounded-tr-lg shadow-lg hover:shadow-xl hover:bg-gray-300 flex items-center justify-center">
                <i class="fas fa-plus mr-3"></i> New Report
            </button>
        </div>
        <nav class="text-white text-base font-semibold pt-3">
            <a href="index" class="flex items-center text-white opacity-75 hover:opacity-100 py-4 pl-6 nav-item">
                <i class="fas fa-tachometer-alt mr-3"></i>
                Dashboard
            </a>
            <a href="articles" class="flex items-center active-nav-link text-white py-4 pl-6 nav-item">
                <i class="fas fa-sticky-note mr-3"></i>
                Articles
            </a>
            <a href="tables" class="flex items-center text-white opacity-75 hover:opacity-100 py-4 pl-6 nav-item">
                <i class="fas fa-table mr-3"></i>
                Tables
            </a>
            <a href="forms" class="flex items-center text-white opacity-75 hover:opacity-100 py-4 pl-6 nav-item">
                <i class="fas fa-align-left mr-3"></i>
                Forms
            </a>
            <a href="tabs" class="flex items-center text-white opacity-75 hover:opacity-100 py-4 pl-6 nav-item">
                <i class="fas fa-tablet-alt mr-3"></i>
                Tabbed Content
            </a>
            <a href="calendar" class="flex items-center text-white opacity-75 hover:opacity-100 py-4 pl-6 nav-item">
                <i class="fas fa-calendar mr-3"></i>
                Calendar
            </a>
        </nav>
    </aside>

    <div class="relative w-full flex flex-col h-screen overflow-y-hidden">
        <!-- Desktop Header -->
        <header class="w-full items-center bg-white py-2 px-6 hidden sm:flex">
            <div class="w-1/2"></div>
            <div x-data="{ isOpen: false }" class="relative w-1/2 flex justify-end">
                <button @click="isOpen = !isOpen" class="realtive z-10 w-12 h-12 rounded-full overflow-hidden border-4 border-gray-400 hover:border-gray-300 focus:border-gray-300 focus:outline-none">
                    <img src="https://source.unsplash.com/uJ8LNVCBjFQ/400x400">
                </button>
                <button x-show="isOpen" @click="isOpen = false" class="h-full w-full fixed inset-0 cursor-default"></button>
                <div x-show="isOpen" class="absolute w-32 bg-white rounded-lg shadow-lg py-2 mt-16">
                    <a href="#" class="block px-4 py-2 account-link hover:text-white">Account</a>
                    <a href="#" class="block px-4 py-2 account-link hover:text-white">Support</a>
                    <a href="#" class="block px-4 py-2 account-link hover:text-white">Sign Out</a>
                </div>
            </div>
        </header>

        <!-- Mobile Header & Nav -->
        <header x-data="{ isOpen: false }" class="w-full bg-sidebar py-5 px-6 sm:hidden">
            <div class="flex items-center justify-between">
                <a href="index" class="text-white text-3xl font-semibold uppercase hover:text-gray-300">Admin</a>
                <button @click="isOpen = !isOpen" class="text-white text-3xl focus:outline-none">
                    <i x-show="!isOpen" class="fas fa-bars"></i>
                    <i x-show="isOpen" class="fas fa-times"></i>
                </button>
            </div>

            <!-- Dropdown Nav -->
            <nav :class="isOpen ? 'flex': 'hidden'" class="flex flex-col pt-4">
                <a href="index" class="flex items-center text-white opacity-75 hover:opacity-100 py-2 pl-4 nav-item">
                    <i class="fas fa-tachometer-alt mr-3"></i>
                    Dashboard
                </a>
                <a href="articles" class="flex items-center active-nav-link text-white py-2 pl-4 nav-item">
                    <i class="fas fa-sticky-note mr-3"></i>
                    Articles
                </a>
                <a href="tables" class="flex items-center text-white opacity-75 hover:opacity-100 py-2 pl-4 nav-item">
                    <i class="fas fa-table mr-3"></i>
                    Tables
                </a>
                <a href="forms" class="flex items-center text-white opacity-75 hover:opacity-100 py-2 pl-4 nav-item">
                    <i class="fas fa-align-left mr-3"></i>
                    Forms
                </a>
                <a href="tabs" class="flex items-center text-white opacity-75 hover:opacity-100 py-2 pl-4 nav-item">
                    <i class="fas fa-tablet-alt mr-3"></i>
                    Tabbed Content
                </a>
                <a href="calendar" class="flex items-center text-white opacity-75 hover:opacity-100 py-2 pl-4 nav-item">
                    <i class="fas fa-calendar mr-3"></i>
                    Calendar
                </a>
                <a href="#" class="flex items-center text-white opacity-75 hover:opacity-100 py-2 pl-4 nav-item">
                    <i class="fas fa-cogs mr-3"></i>
                    Support
                </a>
                <a href="#" class="flex items-center text-white opacity-75 hover:opacity-100 py-2 pl-4 nav-item">
                    <i class="fas fa-user mr-3"></i>
                    My Account
                </a>
                <a href="#" class="flex items-center text-white opacity-75 hover:opacity-100 py-2 pl-4 nav-item">
                    <i class="fas fa-sign-out-alt mr-3"></i>
                    Sign Out
                </a>
            </nav>
        </header>
    
        <div class="w-full h-screen overflow-x-hidden border-t flex flex-col">
            <main class="w-full flex-grow p-6">
                <h1 class="w-full text-3xl text-black pb-6">Articles</h1>

                <div class="flex flex-wrap">
                    <div class="w-full my-6 pr-0 lg:pr-2">
                        <p class="text-xl pb-6 flex items-center">
                            <i class="fas fa-list mr-3"></i> Search Form
                        </p>
                        <div class="leading-loose">
                            <form class="p-10 bg-white rounded shadow-xl flex flex-col">
                                <div class="flex flex-row">
                                    <div class="inline-block lg:w-1/3">
                                        <label class="text-sm text-gray-600" for="title">Title</label>
                                        <input class="w-full px-5 py-1 text-gray-700 bg-gray-200 rounded" id="title" name="title" type="text" placeholder="Article Title" aria-label="Title">
                                    </div>
                                    <div class="inline-block lg:w-2/3 ml-2">
                                        <label class="text-sm text-gray-600" for="content">Content</label>
                                        <input class="w-full px-5  py-1 text-gray-700 bg-gray-200 rounded" id="content" name="content" type="text" placeholder="Article Content" aria-label="Content">
                                    </div>
                                </div>
                                <div class="inline-block mt-2">
                                    <label class="text-sm text-gray-600" for="created_at">Created At</label>
                                    <label class="text-sm text-gray-600" for="created_at_from">From</label>
                                    <input type="datetime-local" class="text-gray-700 bg-gray-200 rounded" id="created_at_from" name="created_at_from" aria-label="Created At From">
                                    <label class="text-sm text-gray-600" for="created_at_to">To</label>
                                    <input type="datetime-local" class="text-gray-700 bg-gray-200 rounded" id="created_at_to" name="created_at_to" aria-label="Created At To">
                                </div>

                                <div class="mt-6">
                                    <button class="px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded" type="submit">Search</button>
                                </div>
                                <script>
                                    document.getElementById('created_at_from').value = new Date().toISOString().substring(0, 10) + "T00:00";
                                    document.getElementById('created_at_to').value = new Date().toISOString().substring(0, 10) + "T23:59";
                                </script>

                            </form>
                        </div>
                    </div>

                    <div class="w-full mt-6 pl-0 lg:pl-2">
                        <p class="text-xl pb-6 flex items-center">
                            <i class="fas fa-list mr-3"></i> Search Result
                        </p>
                        <div class="bg-white overflow-auto">
                            <table class="min-w-full bg-white">
                                <thead class="bg-gray-800 text-white">
                                    <tr>
                                        <th class="text-left py-3 px-4 uppercase font-semibold text-sm">ID</th>
                                        <th class="w-1/4 text-left py-3 px-4 uppercase font-semibold text-sm">Title</th>
                                        <th class="w-1/2 text-left py-3 px-4 uppercase font-semibold text-sm">Content</th>
                                        <th class="text-left py-3 px-4 uppercase font-semibold text-sm">Created At</td>
                                        <th class="text-left py-3 px-4 uppercase font-semibold text-sm">Updated At</td>
                                    </tr>
                                </thead>
                                <tbody class="text-gray-700">
                                    <tr>
                                        <td class="text-left py-3 px-4">1</td>
                                        <td class="text-left py-3 px-4">Hello</td>
                                        <td class="text-left py-3 px-4">World</td>
                                        <td class="text-left py-3 px-4">2024-05-30 ì˜¤ì „ 12:00</td>
                                        <td class="text-left py-3 px-4">2024-05-30 ì˜¤ì „ 12:00</td>
                                    </tr>
                                    <tr class="bg-gray-200">
                                        <td class="text-left py-3 px-4">2</td>
                                        <td class="text-left py-3 px-4">Bye</td>
                                        <td class="text-left py-3 px-4">World</td>
                                        <td class="text-left py-3 px-4">2024-05-30 ì˜¤ì „ 12:00</td>
                                        <td class="text-left py-3 px-4">2024-05-30 ì˜¤ì „ 12:00</td>
                                    </tr>
                                    <tr>
                                        <td class="text-left py-3 px-4">3</td>
                                        <td class="text-left py-3 px-4">Hello</td>
                                        <td class="text-left py-3 px-4">World, again</td>
                                        <td class="text-left py-3 px-4">2024-05-30 ì˜¤ì „ 12:00</td>
                                        <td class="text-left py-3 px-4">2024-05-30 ì˜¤ì „ 12:00</td>
                                    </tr>
                                    <tr class="bg-gray-200">
                                        <td class="text-left py-3 px-4">4</td>
                                        <td class="text-left py-3 px-4">Bye</td>
                                        <td class="text-left py-3 px-4">World, again</td>
                                        <td class="text-left py-3 px-4">2024-05-30 ì˜¤ì „ 12:00</td>
                                        <td class="text-left py-3 px-4">2024-05-30 ì˜¤ì „ 12:00</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </main>
        </div>     
    </div>

    <!-- AlpineJS -->
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
    <!-- Font Awesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js" integrity="sha256-KzZiKy0DWYsnwMF+X1DvQngQ2/FxF7MF3Ff72XcpuPs=" crossorigin="anonymous"></script>
</body>
</html>
```

HTMX í…œí”Œë¦¿ì„ ë³¸ê²©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ Head ì˜ì—­ì— ì•„ë˜ ë‘ ì¤„ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

```html:
    <script src="https://unpkg.com/htmx.org@latest"></script>
    <script src="https://unpkg.com/htmx.org/dist/ext/json-enc.js"></script>
```

`index.html`, `calendar.html`, `forms.html`, `tables.html`, `tabs.html`ì˜ `<body>`-`<aside>`-`<nav>` ë¸”ë¡ì—ì„œ `href="blank"`ë¼ê³  ë˜ì–´ ìˆëŠ” ë¶€ë¶„ì„ ëª¨ë‘ `href="articles"`ë¡œ ë³€ê²½í•˜ê³ , `Blank Page`ë¼ê³  ëœ í…ìŠ¤íŠ¸ë¥¼ `Articles`ë¡œ ë°”ê¿” ì¤ë‹ˆë‹¤.

ìƒˆ íŒŒì¼ `src/controllers/admin/articles.rs`ë¥¼ ë§Œë“¤ì–´ ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```rust:
use loco_rs::prelude::*;
use askama::Template;
use axum::response::Html;
use axum::debug_handler;

#[derive(Template)]
#[template(path="articles.html")]
pub struct PageTemplate {}

#[debug_handler]
pub async fn render() -> Result<Response> {
    let template = PageTemplate {};
    let rendered = template.render().unwrap();
    Ok(Html(rendered).into_response())
}

pub fn routes() -> Routes {
    Routes::new()
        .prefix("/articles")
        .add("/", get(render))
}
```

ì¶”ê°€í•œ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í”„ë¡œì íŠ¸ì— í¬í•¨ë˜ë„ë¡ `src/controllers/admin/mod.rs`ì— ë‹¤ìŒ ì¤„ ì¶”ê°€.

```
pub mod articles;
```

ì´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë¼ìš°íŒ…ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ `src/app.rs`ì˜ `fn routes()` í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ì— ë‹¤ìŒ ì¤„ ì¶”ê°€.

```rust:
        .add_route(controllers::admin::articles::routes())
```

ì„œë²„ë¥¼ ì¬ì‹œì‘í•œ í›„ ì™¼ìª½ ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ì—ì„œ `Articles`ë¥¼ í´ë¦­í•˜ì—¬ ë‹¤ìŒ í™”ë©´ì´ ë‚˜íƒ€ë‚˜ë©´ ì„±ê³µ!

![Articles page with dummy data](assets/static/articles-page-with-dummy-data.png)

ìƒˆë¡œ ë§Œë“  í™”ë©´ì—ì„œ ì‹¤ì œ ë°ì´í„° ì¡°íšŒí•˜ë ¤ë©´ ë¨¼ì € í•´ê²°í•´ì•¼ í•  ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ì˜ APIëŠ” JSON í˜•ì‹ì˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ëŠ”ë° HTML í…œí”Œë¦¿ì—ì„œ ì§ì ‘ JSON ë°ì´í„°ë¥¼ ì ‘ê·¼í•˜ì§€ ëª»í•©ë‹ˆë‹¤. ê·¸ëŸ°ë° ìš°ë¦¬ê°€ ë§Œë“œëŠ” í”„ë¡ íŠ¸ì—”ë“œëŠ” ë°±ì—”ë“œ ì„œë²„ìƒì—ì„œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— APIë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ” ëŒ€ì‹  ì§ì ‘ ë°±ì—”ë“œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì•½ê°„ì˜ ìˆ˜ì •ë§Œìœ¼ë¡œ ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë¥¼ ìœ„í•´ `src/controllers/article.rs`ì˜ `list()` í•¨ìˆ˜ë¥¼ ë¦¬íŒ©í† ë§í•´ ë´…ì‹œë‹¤. ì´ í•¨ìˆ˜ëŠ” ìš”ì²­ íŒŒë¼ë©”í„°ë¡œë¶€í„° ê²€ìƒ‰ ì¡°ê±´ì„ ë§Œë“¤ì–´ ë‚´ê³  ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³  ì´ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” ì¼ì„ ëª¨ë‘ ìˆ˜í–‰í•˜ê³  ìˆëŠ”ë°, ì´ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë‘ ê°œì˜ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.

```rust:
pub async fn list_inner(ctx: &AppContext, query_params: &QueryParams) -> Result<PageResponse<Model>> {
    let title_filter = query_params.title.as_ref().unwrap_or(&String::new()).clone();
    let content_filter = query_params.content.as_ref().unwrap_or(&String::new()).clone();
    let mut condition = Condition::all();
    if !title_filter.is_empty() {
        condition = condition.add(Column::Title.contains(&title_filter));
    }
    if !content_filter.is_empty() {
        condition = condition.add(Column::Content.contains(&content_filter));
    }
    
    model::query::exec::paginate(
        &ctx.db, Entity::find(), Some(condition), &query_params.pagination_query
    ).await
}

#[debug_handler]
pub async fn list(Query(query_params): Query<QueryParams>, State(ctx): State<AppContext>) -> Result<Response> {
    let response = list_inner(&ctx, &query_params).await?;
    format::json(PaginationResponse::response(response, &query_params.pagination_query))
}
```

ê·¸ëŸ° ë‹¤ìŒ `src/controllers/admin/articles.rs`ì—ì„œëŠ” ìƒˆë¡œ ë¶„ë¦¬í•œ `list_inner()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ JSONìœ¼ë¡œ ë³€í™˜í•˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ì´ìš©í•˜ì—¬ HTMLì˜ ë‚´ìš©ì„ ì±„ìš¸ ìˆ˜ ìˆê²Œ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.

```rust:
use loco_rs::prelude::*;
use askama::Template;
use axum::response::Html;
use axum::debug_handler;

use loco_rs::model::query::PageResponse;
use loco_rs::controller::Json;
use axum::extract::Query;
use query::PaginationQuery;

use crate::controllers::article;
use crate::controllers::article::QueryParams;
use crate::models::_entities::articles::Model;
use std::cmp;

pub struct ItemTemplate {
    pub id: i32,
    pub title: String,
    pub content: String,
    pub created_at: DateTime,
    pub updated_at: DateTime,
}
impl ItemTemplate {
    fn from(item: Model) -> Self {
        Self {
            id: item.id,
            title: item.title.unwrap_or_default(),
            content: item.content.unwrap_or_default(),
            created_at: item.created_at,
            updated_at: item.updated_at,
        }
    }
}

#[derive(Template)]
#[template(path = "components/article_table.html")]
pub struct ListTemplate {
    pub rows: Vec<ItemTemplate>,
    pub page: u64,
    pub page_size: u64,
    pub total_pages: u64,
}

impl ListTemplate {
    const fn new() -> Self {
        Self {
            rows: Vec::<ItemTemplate>::new(),
            page: 0,
            page_size: 0,
            total_pages: 0,
        }
    }
    fn add(&mut self, elem: ItemTemplate) {
        self.rows.push(elem);
    }
    
    fn build(response: PageResponse<Model>, pagination_query: &PaginationQuery) -> Self {
        let mut template: ListTemplate = response.page.into_iter().map(ItemTemplate::from).collect();
        template.page = pagination_query.page;
        template.page_size = pagination_query.page_size;
        template.total_pages = response.total_pages;
        template
    }
}

impl FromIterator<ItemTemplate> for ListTemplate {
    fn from_iter<U>(iter: U) -> Self
    where U: IntoIterator<Item=ItemTemplate> {
        let mut c = Self::new();

        for i in iter {
            c.add(i);
        }
        c
    }
}

/// # Panics
/// 
/// Will panic if unwrap panics
/// # Errors
///
/// Will return 'Err' if something goes wrong
#[debug_handler]
pub async fn list(Query(query_params): Query<QueryParams>, State(ctx): State<AppContext>) -> Result<Response> {
    let response = article::list_inner(&ctx, &query_params).await?;
    let template = ListTemplate::build(response, &query_params.pagination_query);
    
    let rendered = template.render().unwrap();
    Ok(Html(rendered).into_response())
}
```

ê°™ì€ íŒŒì¼ì˜ `fn routes()` í•¨ìˆ˜ì— ì•„ë˜ ë¼ìš°íŒ…ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```rust:
  .add("/list", get(list))
```

ì´ì œ `templates/articles.html` í…œí”Œë¦¿ì—ì„œ ì–‘ì‹(form)ì— `id` ì†ì„±ê³¼ HTMX ì†ì„±ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

ì•„ë˜ì™€ ê°™ì´ ë˜ì–´ ìˆëŠ” ë¶€ë¶„ì„ ì°¾ìœ¼ì„¸ìš”.

```html:
  <form class="p-10 bg-white rounded shadow-xl flex flex-col">
```

ì´ ë¶€ë¶„ì„ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í•´ ì£¼ì„¸ìš”.

```html:
  <form class="p-10 bg-white rounded shadow-xl flex flex-col" id="search-form" hx-get="/articles/list" hx-target="#search-result" hx-trigger="submit, path-deps" hx-ext="path-deps" path-deps="/api/articles" hx-swap="outerHTML">
```

ê·¸ ë‹¤ìŒ ì•„ë˜ì™€ ê°™ì´ ë˜ì–´ ìˆëŠ” ë¶€ë¶„ì„ ì°¾ìœ¼ì„¸ìš”.

```html:
                        <p class="text-xl pb-6 flex items-center">
                            <i class="fas fa-list mr-3"></i> Search Result
                        </p>
                        <div class="bg-white overflow-auto">
                            <table class="min-w-full bg-white">
```

ì´ ë¶€ë¶„ì—ì„œ `<div>` ìš”ì†Œì— `id` ì†ì„±ì„ ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.

```html:
                        <p class="text-xl pb-6 flex items-center">
                            <i class="fas fa-list mr-3"></i> Search Result
                        </p>
                        <div class="bg-white overflow-auto" id="search-result">
                            <table class="min-w-full bg-white">
```

`<tbody>` ì•„ë˜ ìš”ì†Œì¸ `<tr>`ì„ ë³´ë©´ `class` ì†ì„±ì´ í™€ìˆ˜ í–‰ì—ëŠ” ì—†ê³  ì§ìˆ˜ í–‰ì—ë§Œ ìˆìŠµë‹ˆë‹¤. ë°ì´í„° í–‰ì˜ ë°°ê²½ìƒ‰ì´ í°ìƒ‰ê³¼ íšŒìƒ‰ì´ ë²ˆê°ˆì•„ ë‚˜íƒ€ë‚˜ë„ë¡ í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤. ì˜ˆì‹œë¡œ ë„£ì€ ë°ì´í„° í–‰ì—ëŠ” ì§ìˆ˜ í–‰ì— ì¼ì¼ì´ `class` ì†ì„±ì„ ì§€ì •í•˜ë©´ ë˜ì—ˆëŠ”ë° ìŠ¤íƒ€ì¼ì„ ì´ìš©í•´ ìë™ìœ¼ë¡œ ë°°ê²½ìƒ‰ì„ ë°”ê¿€ ìˆ˜ ìˆê²Œ í•˜ë ¤ë©´ HTMLì˜ ë§¨ ìœ„ `<head>` ë¶€ë¶„ì˜ `<style>` ìš”ì†Œì— ë‹¤ìŒì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.

```html:
        tbody tr:nth-child(even) {
            background-color: #e5e7eb;
          }
```

ìœ„ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì˜ë¯¸ëŠ” `<tbody>`ì˜ ìì‹ ìš”ì†Œì¸ `<tr>`ì´ ì§ìˆ˜(even) ë²ˆì§¸ì¼ ë•Œ ë°°ê²½ìƒ‰ì„ `#e5e7eb`ë¡œ í•˜ë¼ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. Tailwind CSSì˜ `class="bg-gray-200"`ì™€ ê°™ì€ ì˜ë¯¸ë¼ê³  ì´í•´í•˜ë©´ ë©ë‹ˆë‹¤.

ì´ì œ ì˜ˆì‹œ ë°ì´í„°ëŠ” ì´ì œ ë” ì´ìƒ í•„ìš”ì—†ìœ¼ë¯€ë¡œ ë¹ˆ `<tbody>` ìš”ì†Œë§Œ ë‚¨ê²¨ ë‘ê³  ë‚´ìš©ì€ ëª¨ë‘ ì‚­ì œí•´ ì£¼ì„¸ìš”.
```html:
                                <tbody class="text-gray-700">
                                </tbody>
```

ì¡°ê±´ ê²€ìƒ‰ì„ ì‹¤í–‰í•˜ê¸° ì „ ë¹ˆ í™”ë©´ì€ `articles.html` íŒŒì¼ë§Œìœ¼ë¡œ í‘œí˜„ë  ìˆ˜ ìˆì§€ë§Œ, ì‹¤ì œ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ê²Œ ë˜ë©´ `"search-result"` ì˜ì—­ì˜ í‘œì— ë°ì´í„°ê°€ ì±„ì›Œì ¸ ë‚˜íƒ€ë‚˜ì•¼ í•©ë‹ˆë‹¤. ìœ„ `"search-form"` ì–‘ì‹ì—ì„œ ê²€ìƒ‰ ë²„íŠ¼ì„ í´ë¦­í•˜ê²Œ ë˜ë©´ ì–‘ì‹ì— ì…ë ¥í•œ ê²€ìƒ‰ ì¡°ê±´ì´ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ `hx-get` ì†ì„±ì— ì§€ì •ëœ ê²½ë¡œ `/articles/list`ì— í•´ë‹¹í•˜ëŠ” ì„œë²„ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ê³ , ë°˜í™˜ëœ ê²°ê³¼ëŠ” `hx-target` ì†ì„±ì— ì§€ì •ëœ `#search-result`(í˜„ì¬ ë¬¸ì„œì—ì„œ `id`ê°€ `search-result`ì¸ ë¬¸ì„œ ìš”ì†Œ(element))ì— ë§¤í•‘ë˜ëŠ”ë°, `hx-swap`ì— `outerHTML`ì´ ì§€ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ê¸°ì¡´ì˜ ë¬¸ì„œ ìš”ì†Œë¥¼ ëŒ€ì²´í•  ê²ƒì…ë‹ˆë‹¤.(ì°¸ê³ ë¡œ, ë§Œì•½ `hx-swap` ì†ì„±ì— `innerHTML`ì„ ì§€ì •í•˜ë©´ ëŒ€ìƒ elementì˜ ìì‹ elementë¡œ ì¶”ê°€ë©ë‹ˆë‹¤.)

ì‹¤ì œ ë°ì´í„°ë¡œ ì±„ì›Œì§„ í‘œë¡œ `search-result` ì˜ì—­ì„ ëŒ€ì²´í•˜ê²Œ ë  ìƒˆë¡œìš´ í…œí”Œë¦¿ íŒŒì¼ì¸ `templates/components/article_table.html`ì„ ì•„ë˜ì™€ ê°™ì´ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.

```html:
<div class="bg-white overflow-auto" id="search-result">
  <table class="min-w-full bg-white">
      <thead class="bg-gray-800 text-white">
          <tr>
              <th class="text-left py-3 px-4 uppercase font-semibold text-sm">ID</th>
              <th class="w-1/4 text-left py-3 px-4 uppercase font-semibold text-sm">Title</th>
              <th class="w-1/2 text-left py-3 px-4 uppercase font-semibold text-sm">Content</th>
              <th class="text-left py-3 px-4 uppercase font-semibold text-sm">Created At</td>
              <th class="text-left py-3 px-4 uppercase font-semibold text-sm">Updated At</td>
          </tr>
      </thead>
      <tbody class="text-gray-700">
        {% for article in rows %}
        <tr>
          <td class="text-left py-3 px-4">{{article.id}}</td>
          <td class="text-left py-3 px-4">{{article.title}}</td>
          <td class="text-left py-3 px-4">{{article.content}}</td>
          <td class="text-left py-3 px-4">{{article.created_at}}</td>
          <td class="text-left py-3 px-4">{{article.updated_at}}</td>
        </tr>
        {% endfor %}
      </tbody>
  </table>
</div>
```

ì´ì œ ì„œë²„ë¥¼ ì¬ì‹œì‘í•˜ê³  ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì£¼ì†Œ `localhost:3000`ë¡œ ì´ë™í•˜ì—¬ `Articles` ë©”ë‰´ë¥¼ í´ë¦­í•œ í›„, ì‹¤ì œ ì €ì¥ë˜ì–´ ìˆëŠ” ë°ì´í„°ì— ë§ê²Œ ê²€ìƒ‰ ì¡°ê±´ì„ ì„¤ì •í•œ í›„ Search ë²„íŠ¼ì„ í´ë¦­í•´ ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.

ì´ë²ˆì—ëŠ” 1ì¥ ë§ë¯¸ì—ì„œ êµ¬í˜„í•œ Paginationì„ ì´ìš©í•´ ê²°ê³¼ í™”ë©´ í•˜ë‹¨ì— í˜ì´ì§€ ì´ë™ ë§‰ëŒ€ì¤„ì„ ì¶”ê°€í•´ ë´…ì‹œë‹¤.
`article_table.html` íŒŒì¼ì—ì„œ `<table> ... </table>` ìš”ì†Œ ë°”ë¡œ ë‹¤ìŒì— ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•´ ì£¼ì„¸ìš”.

```html:
  <div id="page-control" class="w-full flex-row justify-center">
    <script>
      function setPageParam(pval) {
        elem = document.getElementById("hidden-page-input");
        elem.value = pval;
        return true;
      }
    </script>
    <input id="hidden-page-input" type="hidden" name="page" value="1" form="search-form">
    {% let prange = 5 %}
    {% let section = page / prange %}
    {% let lastsec = total_pages / prange %}
    {% let seq = page % prange %}
    {% let lastseq = total_pages % prange %}

    {% if (seq == 0 && section > 0) %}
      {% if section > 1 %}
        {% let prevp = prange * (section - 2) + 1 %}
        <button class="btn page-move w-8" form="search-form" onclick='setPageParam("{{prevp}}")'> < </button>
      {% else %}
        <button class="btn page-move w-8" form="search-form" onclick='setPageParam("1")'> < </button>
      {% endif %}
      {% for i in ((prange * (section-1)) + 1)..(cmp::min(prange * section, total_pages) + 1) %}
        <input type="submit" class="btn page-move w-8" name="page" value="{{i}}" {% if i == page %}disabled{% endif %} form="search-form">
      {% endfor %}
      {% if prange * section < total_pages %}
        {% let nextp = prange * section + 1 %}
        <button class="btn page-move w-8" form="search-form" onclick='setPageParam("{{nextp}}")'> > </button>
      {% else %}
        <button class="btn page-move w-8" disabled> > </button>
      {% endif %}
    {% else %}
      {% if section > 0 %}
        {% let prevp = prange * (section - 1) + 1 %}
        <button class="btn page-move w-8" form="search-form" onclick='setPageParam("{{prevp}}")'> < </button>
      {% else %}
        <button class="btn page-move w-8" disabled> < </button>
      {% endif %}
      {% for i in ((prange * section) + 1)..(cmp::min(prange * (section + 1), total_pages) + 1) %}
        <input type="submit" class="btn page-move w-8" name="page" value="{{i}}" {% if i == page %}disabled{% endif %} form="search-form">
      {% endfor %}
      {% if prange * (section + 1) < total_pages %}
        {% let nextp = prange * (section + 1) + 1 %}
        <button class="btn page-move w-8" form="search-form" onclick='setPageParam("{{nextp}}")'> > </button>
      {% else %}
        <button class="btn page-move w-8" disabled> > </button>
      {% endif %}
    {% endif %}
  </div>
```

ì„œë²„ë¥¼ ì¬ì‹œì‘í•œ í›„ ì›¹ë¸Œë¼ìš°ì €ì—ì„œ ê²Œì‹œë¬¼ í™”ë©´ì„ ë„ì›Œ ë³´ì„¸ìš”. ì•„ê¹Œì²˜ëŸ¼ í™ˆì—ì„œ ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ë¥¼ í´ë¦­í•˜ê±°ë‚˜ ì£¼ì†Œì°½ì— ë°”ë¡œ `localhost:3000/articles`ë¥¼ ì…ë ¥í•´ ë³´ì„¸ìš”.

ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒì„±ì¼ì„ ê²€ìƒ‰ ì¡°ê±´ì— ì¶”ê°€í•´ ë´…ì‹œë‹¤. ì›¹ í˜ì´ì§€ì˜ ê²€ìƒ‰ ì¡°ê±´ ì…ë ¥ ì–‘ì‹ì—ëŠ” ì´ë¯¸ ìƒì„±ì¼(Created At) êµ¬ê°„ì„ ì¡°ê±´ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆê²Œ ë˜ì–´ ìˆìŠµë‹ˆë‹¤ë§Œ ì‚¬ì‹¤ ì•„ì§ ì„œë²„ ìª½ì—ëŠ” ì´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ì´ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ë‹¤ì‹œ `src/controllers/article.rs` íŒŒì¼ì„ ì—½ë‹ˆë‹¤.

ìš°ì„  ë‚ ì§œ í˜•ì‹ì˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ `NaiveDate` íƒ€ì…ì„ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.

```rust:
use chrono::NaiveDate;
```

ê·¸ ë‹¤ìŒ, `QueryParams` êµ¬ì¡°ì²´ì— ë‹¤ìŒê³¼ ê°™ì´ ê²€ìƒ‰ ê¸°ê°„ì˜ ì‹œì‘(`created_at_from`)ê³¼ ë(`created_at_to`)ì„ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.

```rust:
#[derive(Debug, Serialize, Deserialize)]
pub struct QueryParams {
    pub title: Option<String>,
    pub content: Option<String>,
    pub created_at_from: Option<String>,        // added here
    pub created_at_to: Option<String>,          // added here
    #[serde(flatten)]
    pub pagination_query: PaginationQuery,
}
```

ë§ˆì§€ë§‰ìœ¼ë¡œ `list_inner()` í•¨ìˆ˜ì—ì„œ `model::query::paginate(` ë°”ë¡œ ìœ„ì— ì•„ë˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì¶”ê°€í•´ ì£¼ì„¸ìš”.
```rust:
    let created_at_from_filter = query_params.created_at_from.as_ref().unwrap_or(&String::new()).clone();
    let created_at_to_filter = query_params.created_at_to.as_ref().unwrap_or(&String::new()).clone();
    if !created_at_from_filter.is_empty() {
        let parsed = NaiveDate::parse_from_str(&created_at_from_filter, "%Y-%m-%dT%H:%M");
        match parsed {
            Ok(dt) => {
                condition = condition.add(Column::CreatedAt.gte(dt));
            },
            Err(err) => {eprint!("{}", err)},
        }        
    }
    
    if !created_at_to_filter.is_empty() {
        let parsed = NaiveDate::parse_from_str(&created_at_to_filter, "%Y-%m-%dT%H:%M");
        match parsed {
            Ok(dt) => {
                condition = condition.add(Column::CreatedAt.lte(dt));
            },
            Err(err) => {eprint!("{}", err)},
        }
    }
```

ì„œë²„ë¥¼ ì¬ì‹œì‘í•œ í›„ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ê²€ìƒ‰ê¸°ê°„ì„ ë°”ê¿”ê°€ë©´ì„œ ë‚ ì§œ ì¡°ê±´ ê²€ìƒ‰ì´ ì˜ ë˜ëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”.

### 2.5 í¸ì§‘ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°

Article í˜ì´ì§€ì—ì„œ íŠ¹ì • ê²Œì‹œë¬¼ì„ ì„ íƒí•´ì„œ ìˆ˜ì • ë˜ëŠ” ì‚­ì œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•´ ë´…ì‹œë‹¤.
`templates/components/article_table.html` íŒŒì¼ì—ì„œ `<tbody>` ë¶€ë¶„ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•´ ì£¼ì„¸ìš”.

```html:
<tbody class="text-gray-700">        
        {% for article in rows %}        
        <tr>
          <td class="text-left py-3 px-4">{{article.id}}</td>
          <td class="text-left py-3 px-4">{{article.title}}</td>
          <td class="text-left py-3 px-4">{{article.content}}</td>
          <td class="text-left py-3 px-4">{{article.created_at}}</td>
          <td class="text-left py-3 px-4">{{article.updated_at}}</td>
          <td>
            <button class="px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded"
              hx-get="/articles/{{article.id}}/edit"
              hx-target="#editor" hx-swap="outerHTML">
                Edit
            </button>
            <button class="px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded"
              hx-delete="/api/articles/{{ article.id }}"
              hx-target="closest tr" hx-swap="outerHTML"
              hx-confirm="Are you sure you want to delete this article?">
                Delete
            </button>
          </td>
        </tr>        
        {% endfor %}
      </tbody>
```

`Edit` ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ `hx-target`ì— ì§€ì •ëœëŒ€ë¡œ `id`ê°€ `editor`ì¸ ë¬¸ì„œ ìš”ì†Œë¥¼ ëŒ€ì²´í•  ê²ƒì…ë‹ˆë‹¤. ê¸°ì¡´ `articles.html`ì—ì„œ `<main>` ìš”ì†Œ ì•„ë˜ ëì— `editor` ìš”ì†Œë¥¼ ì¶”ê°€í•´ ì¤ì‹œë‹¤. ê°™ì€ ìœ„ì¹˜ì—ì„œ ê¸°ì¡´ ë°ì´í„°ì— ëŒ€í•œ ìˆ˜ì •ê³¼ ì‹ ê·œ ë°ì´í„° ì‘ì„±ì´ ê°€ëŠ¥í•˜ë„ë¡ ë§Œë“¤ê¸° ìœ„í•´ `editor` ìš”ì†Œ ì•ˆì— ìƒˆ ê²Œì‹œë¬¼ ì‘ì„±ì„ ìœ„í•œ ë²„íŠ¼ë„ ì¶”ê°€í•´ ì¤ì‹œë‹¤.

```html:
                <div class="w-full mt-6 pl-0 lg:pl-2" id="editor">
                    <div class="mt-6">
                        <button class="px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded" type="submit" hx-get="/articles/new" hx-target="#editor" hx-swap="outerHTML">New</button>
                    </div>
                </div>
            </main>
```

ì´ì œ `templates/components/article_form_edit.html`ì„ ìƒˆë¡œ ë§Œë“¤ì–´ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•´ ì¤ë‹ˆë‹¤.

```html:
<div class="w-full mt-6 pl-0 lg:pl-2" id="editor">
    <div class="mt-6">
        <button class="px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded" type="submit" hx-get="/articles/new" hx-target="#editor" hx-swap="outerHTML">New</button>
    </div>
    <p class="text-xl pb-6 flex items-center">
        <i class="fas fa-list mr-3"></i> Edit Form
    </p>
    <div class="leading-loose">
        <form class="p-10 bg-white rounded shadow-xl" id="edit-form" hx-put="/articles/{{id}}" hx-target="#editor" hx-swap="outerHTML" hx-ext="json-enc">
            <p class="text-lg text-gray-800 font-medium pb-4">Article Details</p>
            <div class="">
                <label class="block text-sm text-gray-600" for="id">ID</label>
                <input class="w-full px-5 py-1 text-gray-700 bg-gray-200 rounded" id="id" name="id" value="{{id}}" type="text" aria-label="ID" disabled>
            </div>
            <div class="">
                <label class="block text-sm text-gray-600" for="title">Title</label>
                <input class="w-full px-5 py-1 text-gray-700 bg-gray-200 rounded" id="title" name="title" value="{{title}}" type="text" required="" placeholder="Article Title" aria-label="Title">
            </div>
            <div class="mt-2">
                <label class="block text-sm text-gray-600" for="content">Content</label>
                <input class="w-full px-5  py-4 text-gray-700 bg-gray-200 rounded" id="content" name="content" value="{{content}}" type="text" required="" placeholder="Article Content" aria-label="Content">
            </div>
            <div class="mt-2 flex lg:flex-row lg:space-x-4">
                <div class="w-full flex flex-col">
                    <label class="text-sm text-gray-600">Created At</label>
                    <span class="w-full px-1 py-1 text-gray-500 bg-gray-200 rounded">{{created_at}}</span>
                </div>
                <div class="w-full flex flex-col">
                    <label class="text-sm text-gray-600">Updated At</label>
                    <span class="w-full px-1 py-1 text-gray-500 bg-gray-200 rounded">{{updated_at}}</span>
                </div>
            </div>
            <div class="mt-6">
                <button class="px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded" type="submit">Save</button>
            </div>
        </form>
    </div>
</div>
```

ì´ë²ˆì—ëŠ” ì‹ ê·œ ë°ì´í„° ì…ë ¥ì„ ìœ„í•œ í…œí”Œë¦¿ íŒŒì¼ `templates/components/article_form_new.html`ì„ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•´ ì¤ë‹ˆë‹¤.

```html:
<div class="w-full mt-6 pl-0 lg:pl-2" id="editor">
    <div class="mt-6">
        <button class="px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded" type="submit" hx-get="/articles/new" hx-target="#editor" hx-swap="outerHTML">New</button>
    </div>
    <p class="text-xl pb-6 flex items-center">
        <i class="fas fa-list mr-3"></i> New Form
    </p>
    <div class="w-full leading-loose">
        <form class="p-10 bg-white rounded shadow-xl" id="edit-form" hx-post="/articles" hx-target="#editor" hx-swap="outerHTML" hx-ext="json-enc">
            <p class="text-lg text-gray-800 font-medium pb-4">Article Details</p>
            <div class="">
                <label class="block text-sm text-gray-600" for="id">ID</label>
                <input class="w-full px-5 py-1 text-gray-700 bg-gray-200 rounded" id="id" name="id" type="text" aria-label="ID" disabled>
            </div>
            <div class="">
                <label class="block text-sm text-gray-600" for="title">Title</label>
                <input class="w-full px-5 py-1 text-gray-700 bg-gray-200 rounded" id="title" name="title" type="text" required="" placeholder="Article Title" aria-label="Title">
            </div>
            <div class="mt-2">
                <label class="block text-sm text-gray-600" for="content">Content</label>
                <input class="w-full px-5  py-4 text-gray-700 bg-gray-200 rounded" id="content" name="content" type="text" required="" placeholder="Article Content" aria-label="Content">
            </div>
            <div class="mt-6">
                <button class="px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded" type="submit">Save</button>
            </div>
        </form>
    </div>
</div>
```

ìœ„ ë‘ ê°œì˜ í…œí”Œë¦¿ì€ ìƒê¸´ ëª¨ì–‘ì€ í¡ì‚¬í•˜ì§€ë§Œ, ê¸°ì¡´ ë°ì´í„° í¸ì§‘ì€ `hx-put="/articles/{{id}}"`, ì‹ ê·œ ë°ì´í„° ì…ë ¥ì€ `hx-post="/articles"` ìš”ì²­ì„ ë°œìƒì‹œí‚¨ë‹¤ëŠ” ì ê³¼ ê° `<input>` ìš”ì†Œì— `value`ì˜ ìœ ë¬´ê°€ ë‹¤ë¦…ë‹ˆë‹¤.

ì´ì œ ì´ ë‘ ê°œì˜ í…œí”Œë¦¿ì„ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì—°ê²°í•´ ë³´ê² ìŠµë‹ˆë‹¤.
`src/controllers/article.rs`ì— ëŒ€í•´ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.
`list()`ì—ì„œ `list_inner()`ë¥¼ ë¶„ë¦¬í•´ ë‚¸ ê²ƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ `get_one()`, `add()`, `update()`ë¡œë¶€í„° JSONìœ¼ë¡œ ë³€í™˜í•˜ê¸° ì „ì˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•´ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ë¶„ë¦¬í•´ ë‚´ë ¤ê³  í•©ë‹ˆë‹¤.

íŠ¹ì • `id` ê°’ì„ ê°€ì§„ ê²Œì‹œë¬¼ í•˜ë‚˜ë§Œì„ ë°˜í™˜í•´ ì£¼ëŠ” `get_one()` í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```rust:
pub async fn get_one(Path(id): Path<i32>, State(ctx): State<AppContext>) -> Result<Response> {
    format::json(load_item(&ctx, id).await?)
}
```

ì´ë¯¸ `load_item()` í•¨ìˆ˜ê°€ ìš°ë¦¬ê°€ ì›í•˜ëŠ” í˜•ì‹ì˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•´ ì£¼ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¬¸ì œëŠ” ì´ í•¨ìˆ˜ëŠ” í”„ë¼ì´ë¹— í•¨ìˆ˜ë¼ì„œ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬(ê°™ì€ íŒŒì¼) ì•ˆì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

í¼ë¸”ë¦­ í•¨ìˆ˜ë¡œ ë³€ê²½í•´ ì£¼ë©´ ê°„ë‹¨í•˜ê²Œ ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•¨ìˆ˜ ì •ì˜ ì²« ì¤„ì— 
`async fn load_item`ì´ë¼ê³  ë˜ì–´ ìˆëŠ” ë¶€ë¶„ì„ <span style="color=blue">`pub async fn load_item`</span>ì´ë¼ê³  ë°”ê¿” ì£¼ì„¸ìš”.

`add()`ì™€ `update()`ëŠ” ê°ê° `add_inner()`ì™€ `update_inner()`ë¥¼ ë¶„ë¦¬í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•´ ì£¼ì„¸ìš”.

```rust:
pub async fn add_inner(ctx: &AppContext, params: Params) -> Result<Model> {
    let mut item = ActiveModel {
        ..Default::default()
    };
    params.update(&mut item);
    let item = item.insert(&ctx.db).await;
    match item {
        Ok(v) => Ok(v),
        Err(err) => core::result::Result::Err(loco_rs::Error::DB(err)),
    }
}

pub async fn add(State(ctx): State<AppContext>, Json(params): Json<Params>) -> Result<Response> {
    let item = add_inner(&ctx, params).await?;
    format::json(item)
}

pub async fn update_inner(id: i32, ctx: &AppContext, params: Params) -> Result<Model> {
    let item: Model = load_item(&ctx, id).await?;
    let mut item: ActiveModel = item.into_active_model();
    params.update(&mut item);
    let item = item.update(&ctx.db).await;
    match item {
        Ok(v) => Ok(v),
        Err(err) => core::result::Result::Err(loco_rs::Error::DB(err)),
    }
}

pub async fn update(
    Path(id): Path<i32>,
    State(ctx): State<AppContext>,
    Json(params): Json<Params>,
) -> Result<Response> {
    let item = update_inner(id, &ctx, params).await?;
    format::json(item)
}
```

ì´ì œ í…œí”Œë¦¿ íŒŒì¼ê³¼ ë°±ì—”ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ê²°í•©í•´ì„œ í”„ë¡ íŠ¸ì—”ë“œ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ ë´…ì‹œë‹¤. `src/controllers/admin/articles.rs` íŒŒì¼ì— ë‹¤ìŒì„ ì¶”ê°€í•´ ì£¼ì„¸ìš”.

```rust:
#[derive(Template)]
#[template(path="components/article_form_new.html")]
pub struct NewTemplate {}

/// # Panics
/// 
/// Will panic if unwrap panics
/// # Errors
/// 
/// Will return 'Err' if something goes wrong
#[debug_handler]
pub async fn new() -> Result<Response> {
    let template = NewTemplate {};
    let rendered = template.render().unwrap();
    Ok(Html(rendered).into_response())
}

/// # Panics
/// 
/// Will panic if unwrap panics
/// # Errors
/// 
/// Will return 'Err' if something goes wrong
#[debug_handler]
pub async fn edit(Path(id): Path<i32>, State(ctx): State<AppContext>) -> Result<Response> {
    let item = article::load_item(&ctx, id).await?;
    let template = ItemTemplate::from(item);
    let rendered = template.render().unwrap();
    Ok(Html(rendered).into_response())
}

/// # Panics
/// 
/// Will panic if unwrap panics
/// # Errors
/// 
/// Will return 'Err' if something goes wrong
#[debug_handler]
pub async fn add(State(ctx): State<AppContext>, Json(params): Json<article::Params>) -> Result<Response> {
    let item = article::add_inner(&ctx, params).await?;
    let template = ItemTemplate::from(item);
    let rendered = template.render().unwrap();
    Ok(Html(rendered).into_response())
}

/// # Panics
/// 
/// Will panic if unwrap panics
/// # Errors
/// 
/// Will return 'Err' if something goes wrong
#[debug_handler]
pub async fn update(Path(id): Path<i32>, State(ctx): State<AppContext>, Json(params): Json<article::Params>) -> Result<Response> {
    let item = article::update_inner(id, &ctx, params).await?;
    let template = ItemTemplate::from(item);
    let rendered = template.render().unwrap();
    Ok(Html(rendered).into_response())
}
```

`add()`ì™€ `update()`ì—ì„œ `ItemTemplate`ì„ í…œí”Œë¦¿ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ë ¤ë©´, `ItemTemplate` êµ¬ì¡°ì²´(struct) ì•ì— `#[derive(Template)]` ë§¤í¬ë¡œë¥¼ ì¶”ê°€í•´ ì¤˜ì•¼ í•©ë‹ˆë‹¤.
`pub struct ItemTemplate {`ë¼ê³  ëœ ì¤„ ë°”ë¡œ ìœ„ì— ì•„ë˜ ë‘ ì¤„ì„ ì¶”ê°€í•´ ì£¼ì„¸ìš”.
```
#[derive(Template)]
#[template(path="components/article_form_edit.html")]
```

> [!IMPORTANT]
> Rustì—ì„œ ì£¼ì„(ì½”ë©˜íŠ¸)ì€ ë‹¤ë¥¸ ì–¸ì–´ì™€ ë§ˆì°¬ê°€ì§€ë¡œ `//`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. `///`ë„ ì£¼ì„ì„ ë‚˜íƒ€ë‚´ëŠ”ë° íŠ¹ìˆ˜í•˜ê²Œ ë¬¸ì„œí™”ì— ì‚¬ìš©ë˜ëŠ” ì£¼ì„ì„ í‘œì‹œí•©ë‹ˆë‹¤.
> í†µìƒì ì¸ ì»´íŒŒì¼ê³¼ ì‹¤í–‰ì—ì„œëŠ” ë¬¸ì œê°€ ë˜ì§€ ì•Šì§€ë§Œ ê¹ƒí—™ì— ì˜¬ë¦¬ê²Œ ë˜ë©´ CI/CD í”„ë¡œì„¸ìŠ¤ê°€ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ì„œ ì½”ë“œ ë‚´ìš©ì„ ê²€ì‚¬í•˜ëŠ” Clippyê°€ ì‹¤í–‰ë˜ëŠ”ë° ëŸ°íƒ€ì„ì— ë¬¸ì œê°€ ë  ë§Œí•œ ë¶€ë¶„ì— ëŒ€í•´ ëª…ì‹œì ìœ¼ë¡œ í‘œì‹œí•˜ì§€ ì•Šì€ ì½”ë“œëŠ” ê²€ì‚¬ë¥¼ í†µê³¼í•˜ì§€ ëª»í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ëŸ° ê²½ìš°ëŠ” ë¬¸ì„œí™” ì£¼ì„ì— `# Panics`ë‚˜ `# Errors`ë¥¼ ê¸°ì¬í•´ ì¤˜ì•¼ í†µê³¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ ë¼ìš°íŒ… ì„¤ì • í•¨ìˆ˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•©ë‹ˆë‹¤.

```rust:
pub fn routes() -> Routes {
    Routes::new()
        .prefix("/articles")
        .add("/", get(render))
        .add("/list", get(list))
        .add("/new", get(new))
        .add("/:id/edit", get(edit))
        .add("/:id", put(update))
        .add("/", post(add))
}
```

ì´ì œ ì„œë²„ë¥¼ ì¬ì‹œì‘í•´ ë³´ì„¸ìš”. ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤ì œ ë°ì´í…Œ ì¡°íšŒ ê²°ê³¼ì—ì„œ í•˜ë‚˜ë¥¼ ê³¨ë¼ `Edit` ë²„íŠ¼ì„ í´ë¦­í•´ ë³´ì„¸ìš”. ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì´ ë‚˜íƒ€ë‚  ê²ƒì…ë‹ˆë‹¤.
![Image of an all in one page for articles](assets/static/all-in-one-page-for-articles.png)

ì—¬ê¸°ê¹Œì§€ ì˜ ë”°ë¼í•˜ì…¨ë‚˜ìš”? ìµœê³ ğŸ‘ì˜ˆìš”!
ë°±ì—”ë“œ API ì„œë²„ë¶€í„° ê°„ë‹¨í•œ í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œê¹Œì§€ ì „ ê³¼ì •ì„ ë‘˜ëŸ¬ë´¤ìŠµë‹ˆë‹¤. ì´ì œ ë°°ìš´ ê²ƒì„ ì‹¤ì „ì— í™œìš©í•´ ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.